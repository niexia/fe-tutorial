<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http | fe-tutorial</title>
    <meta name="description" content="前端学习笔记">
    <link rel="icon" href="/fe-tutorial/favicon.ico">
    
    <link rel="preload" href="/fe-tutorial/assets/css/0.styles.db386b49.css" as="style"><link rel="preload" href="/fe-tutorial/assets/js/app.1952d5e4.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/2.8afe0319.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/5.247a40bb.js" as="script"><link rel="prefetch" href="/fe-tutorial/assets/js/10.4a5ed86e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/11.16f65cd0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/12.e5718965.js"><link rel="prefetch" href="/fe-tutorial/assets/js/13.9f70f61b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/14.675d583a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/15.9ba1fcf0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/16.14a3656d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/17.4747f2dd.js"><link rel="prefetch" href="/fe-tutorial/assets/js/18.9fae0c0c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/19.2f6a8875.js"><link rel="prefetch" href="/fe-tutorial/assets/js/20.31c43976.js"><link rel="prefetch" href="/fe-tutorial/assets/js/21.d2ae4d09.js"><link rel="prefetch" href="/fe-tutorial/assets/js/22.03ad956b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/23.d781c4ac.js"><link rel="prefetch" href="/fe-tutorial/assets/js/24.01167406.js"><link rel="prefetch" href="/fe-tutorial/assets/js/25.5214d4e1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/26.3fb5b8dd.js"><link rel="prefetch" href="/fe-tutorial/assets/js/27.9dcc4c40.js"><link rel="prefetch" href="/fe-tutorial/assets/js/28.4187ecbc.js"><link rel="prefetch" href="/fe-tutorial/assets/js/29.9399fdd3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/3.a51a1eb0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/30.b341bc1d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/31.7f8d88ff.js"><link rel="prefetch" href="/fe-tutorial/assets/js/32.e6c91c37.js"><link rel="prefetch" href="/fe-tutorial/assets/js/33.1924b4a4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/34.45516529.js"><link rel="prefetch" href="/fe-tutorial/assets/js/35.e9744e50.js"><link rel="prefetch" href="/fe-tutorial/assets/js/36.c3bb6940.js"><link rel="prefetch" href="/fe-tutorial/assets/js/37.84781618.js"><link rel="prefetch" href="/fe-tutorial/assets/js/38.4e159847.js"><link rel="prefetch" href="/fe-tutorial/assets/js/39.6ed65dec.js"><link rel="prefetch" href="/fe-tutorial/assets/js/4.d500ed3b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/40.814b91e4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/41.a7b85e62.js"><link rel="prefetch" href="/fe-tutorial/assets/js/42.85ced726.js"><link rel="prefetch" href="/fe-tutorial/assets/js/43.6a6fe533.js"><link rel="prefetch" href="/fe-tutorial/assets/js/44.35b86907.js"><link rel="prefetch" href="/fe-tutorial/assets/js/45.218bbfde.js"><link rel="prefetch" href="/fe-tutorial/assets/js/46.c64dcc04.js"><link rel="prefetch" href="/fe-tutorial/assets/js/47.94f7801d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/48.01c1b197.js"><link rel="prefetch" href="/fe-tutorial/assets/js/49.263f2817.js"><link rel="prefetch" href="/fe-tutorial/assets/js/50.5bf06730.js"><link rel="prefetch" href="/fe-tutorial/assets/js/51.9e7dd32c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/52.9b71eb11.js"><link rel="prefetch" href="/fe-tutorial/assets/js/53.d1bfa9f2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/54.dc2b4ce7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/55.b619b2ea.js"><link rel="prefetch" href="/fe-tutorial/assets/js/56.284f054c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/57.c9f92550.js"><link rel="prefetch" href="/fe-tutorial/assets/js/58.d09821f6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/59.24004b84.js"><link rel="prefetch" href="/fe-tutorial/assets/js/6.ee49cfbe.js"><link rel="prefetch" href="/fe-tutorial/assets/js/60.b04c6526.js"><link rel="prefetch" href="/fe-tutorial/assets/js/61.c98f181f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/62.4a3b6bad.js"><link rel="prefetch" href="/fe-tutorial/assets/js/63.6c88faac.js"><link rel="prefetch" href="/fe-tutorial/assets/js/64.5338cd11.js"><link rel="prefetch" href="/fe-tutorial/assets/js/65.e04154ed.js"><link rel="prefetch" href="/fe-tutorial/assets/js/66.3af0516a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/67.b633bc4e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/68.1fd9d8e5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/69.fa0af75e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/7.064cfd28.js"><link rel="prefetch" href="/fe-tutorial/assets/js/70.abf3ce79.js"><link rel="prefetch" href="/fe-tutorial/assets/js/71.4a1fecfe.js"><link rel="prefetch" href="/fe-tutorial/assets/js/72.568e1381.js"><link rel="prefetch" href="/fe-tutorial/assets/js/73.34c51153.js"><link rel="prefetch" href="/fe-tutorial/assets/js/74.53f2261d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/75.13d1553b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/76.eb3d0704.js"><link rel="prefetch" href="/fe-tutorial/assets/js/77.6ac087cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/78.0a8fda6c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/79.1a24eb38.js"><link rel="prefetch" href="/fe-tutorial/assets/js/8.95799249.js"><link rel="prefetch" href="/fe-tutorial/assets/js/80.e873ee92.js"><link rel="prefetch" href="/fe-tutorial/assets/js/81.8840f156.js"><link rel="prefetch" href="/fe-tutorial/assets/js/82.07e54432.js"><link rel="prefetch" href="/fe-tutorial/assets/js/83.38e5b1af.js"><link rel="prefetch" href="/fe-tutorial/assets/js/84.7553060b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/85.4d3b783c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/86.c9891056.js"><link rel="prefetch" href="/fe-tutorial/assets/js/87.907310cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/88.cf03a7f0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/89.be9ff386.js"><link rel="prefetch" href="/fe-tutorial/assets/js/9.592a6d25.js"><link rel="prefetch" href="/fe-tutorial/assets/js/90.b73c0c3f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/91.d015d5df.js">
    <link rel="stylesheet" href="/fe-tutorial/assets/css/0.styles.db386b49.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-tutorial/" class="home-link router-link-active"><!----> <span class="site-name">fe-tutorial</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link">数据结构和算法</a></div><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><a href="/fe-tutorial/webpack/" class="nav-link">Webpack</a></div><div class="nav-item"><a href="https://niexias.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/niexias" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link">数据结构和算法</a></div><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><a href="/fe-tutorial/webpack/" class="nav-link">Webpack</a></div><div class="nav-item"><a href="https://niexias.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/niexias" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/javaScript/" class="sidebar-link">介绍</a></li><li><a href="/fe-tutorial/javaScript/执行环境和执行栈.html" class="sidebar-link">执行环境和执行栈</a></li><li><a href="/fe-tutorial/javaScript/作用域和闭包.html" class="sidebar-link">作用域和闭包</a></li><li><a href="/fe-tutorial/javaScript/this.html" class="sidebar-link">this</a></li><li><a href="/fe-tutorial/javaScript/对象、原型和原型链.html" class="sidebar-link">对象、原型和原型链</a></li><li><a href="/fe-tutorial/javaScript/实现继承.html" class="sidebar-link">实现继承</a></li><li><a href="/fe-tutorial/javaScript/实现new.html" class="sidebar-link">实现 new</a></li><li><a href="/fe-tutorial/javaScript/实现call,apply和bind.html" class="sidebar-link">call、apply 和 bind</a></li><li><a href="/fe-tutorial/javaScript/实现instanceof.html" class="sidebar-link">实现 instanceof</a></li><li><a href="/fe-tutorial/javaScript/深拷贝和浅拷贝.html" class="sidebar-link">深拷贝和浅拷贝</a></li><li><a href="/fe-tutorial/javaScript/节流函数和防抖函数.html" class="sidebar-link">节流函数和防抖函数</a></li><li><a href="/fe-tutorial/javaScript/高阶函数.html" class="sidebar-link">高阶函数</a></li><li><a href="/fe-tutorial/javaScript/函数柯里化.html" class="sidebar-link">函数柯里化</a></li><li><a href="/fe-tutorial/javaScript/EventEmitter.html" class="sidebar-link">EventEmitter</a></li><li><a href="/fe-tutorial/javaScript/实现Promise.html" class="sidebar-link">/javaScript/实现Promise.html</a></li><li><a href="/fe-tutorial/javaScript/实现异步打印.html" class="sidebar-link">实现异步打印</a></li><li><a href="/fe-tutorial/javaScript/数组去重,扁平化和最值.html" class="sidebar-link">数组去重，扁平化和最值</a></li><li><a href="/fe-tutorial/javaScript/数组乱序.html" class="sidebar-link">数组乱序</a></li><li><a href="/fe-tutorial/javaScript/懒加载.html" class="sidebar-link">懒加载</a></li><li><a href="/fe-tutorial/javaScript/无限滚动.html" class="sidebar-link">无限滚动</a></li><li><a href="/fe-tutorial/javaScript/虚拟滚动.html" class="sidebar-link">/javaScript/虚拟滚动.html</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>RegExp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/javaScript/RegExp/正则表达式.html" class="sidebar-link">正则表达式</a></li><li><a href="/fe-tutorial/javaScript/RegExp/RegExp的属性和方法.html" class="sidebar-link">RegExp 的属性和方法</a></li><li><a href="/fe-tutorial/javaScript/RegExp/应用.html" class="sidebar-link">应用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器工作原理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/javaScript/browser/浏览器的多进程和JS单线程.html" class="sidebar-link">浏览器的多进程和JS单线程</a></li><li><a href="/fe-tutorial/javaScript/browser/浏览器渲染过程.html" class="sidebar-link">浏览器的渲染过程</a></li><li><a href="/fe-tutorial/javaScript/browser/EventLoop.html" class="sidebar-link">Event Loop</a></li><li><a href="/fe-tutorial/javaScript/browser/栈空间和堆空间.html" class="sidebar-link">栈空间和堆空间</a></li><li><a href="/fe-tutorial/javaScript/browser/垃圾回收.html" class="sidebar-link">垃圾回收</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>性能优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/javaScript/effective/性能优化.html" class="sidebar-link">性能优化</a></li><li><a href="/fe-tutorial/javaScript/effective/DNS缓存和预解析.html" class="sidebar-link">DNS 缓存和预解析</a></li><li><a href="/fe-tutorial/javaScript/effective/减少请求次数和体积.html" class="sidebar-link">减少请求次数和体积</a></li><li><a href="/fe-tutorial/javaScript/effective/利用缓存.html" class="sidebar-link">利用缓存</a></li><li><a href="/fe-tutorial/javaScript/effective/CDN.html" class="sidebar-link">CDN</a></li><li><a href="/fe-tutorial/javaScript/effective/浏览器渲染机制和优化.html" class="sidebar-link">浏览器渲染机制和优化</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http"><a href="#http" aria-hidden="true" class="header-anchor">#</a> http</h1> <h2 id="了解基本的网络基础"><a href="#了解基本的网络基础" aria-hidden="true" class="header-anchor">#</a> 了解基本的网络基础</h2> <h3 id="一个请求的过程"><a href="#一个请求的过程" aria-hidden="true" class="header-anchor">#</a> 一个请求的过程</h3> <p>发送端在发起请求之后，经过每一层都会加上首部信息。接收端接收之后，每经过一层就会删除相应的头部。</p> <p><img src="/fe-tutorial/assets/img/network-http-requestProcess.80a8f03f.png" alt="http-request-process"></p> <h3 id="关键点"><a href="#关键点" aria-hidden="true" class="header-anchor">#</a> 关键点</h3> <p>上面的过程可有以下几个关键点</p> <ul><li><strong>发起</strong></li></ul> <ol><li>DNS</li></ol> <div class="language- extra-class"><pre class="language-text"><code>我：我想浏览 http://hackr.jp/xss/Web 页面，告诉我 hack.jp 的 IP 地址。
DNS：好的，hackr.jp 对应的ip地址是 20.189.105.112
</code></pre></div><ol start="2"><li><p>http协议：http 协议的职责是生成针对目标 Web 服务器的HTTP请求报文。告诉它你想要什么：
请给我 <code>http://hackr.jp/xss</code> 页面的资源</p></li> <li><p>TCP协议：TCP协议的职责是，将HTTP请求报文分割成报文段，按序号分为多个报文段把每个报文段可靠的传给对方（三次握手）</p></li> <li><p>IP协议：IP协议的职责，搜索对方的地址，一边中转一边传送。而IP间的通信依赖于MAC 地址（网卡所属的固定地址），还需要再通过ARP 协议根据通信方的 IP 地址反查出对应的MAC 地址。</p></li></ol> <ul><li><strong>接收</strong></li></ul> <ol><li><p>TCP 协议：从对方那里接收到的报文段，按序号按原来的顺序重组请求报文。</p></li> <li><p>http 协议：对请求的内容处理。哦，原来你想要这台计算机上/xss/的资源啊</p></li></ol> <p><img src="/fe-tutorial/assets/img/network-http-requestDetail.99e537e9.png" alt="http-request-detail"></p> <h2 id="三次握手"><a href="#三次握手" aria-hidden="true" class="header-anchor">#</a> 三次握手</h2> <p>三次握手目的是为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误。</p> <p>发送端首先发一个带SYN标志的数据给对方。接受端接受到之后回传一个带有SYN/ACK标志的数据包以传达确认信息。最后，发送端再回传一个带ACK标志的数据包，代表握手结束。</p> <p><img src="/fe-tutorial/assets/img/network-http-threeTimesHandshake.c0471bee.png" alt="three-times-handshake"></p> <p>就好像是这样的对话：</p> <div class="language- extra-class"><pre class="language-text"><code>A : 你好我是A，你听得到我在说话吗
B : 听到了，我是B，你听到我在说话吗
A : 嗯，听到了
</code></pre></div><h2 id="四次挥手"><a href="#四次挥手" aria-hidden="true" class="header-anchor">#</a> 四次挥手</h2> <h3 id="为什么tcp协议终止链接要四次？"><a href="#为什么tcp协议终止链接要四次？" aria-hidden="true" class="header-anchor">#</a> 为什么TCP协议终止链接要四次？</h3> <ol><li>当主机A确认发送完数据且知道B已经接收完了，想要关闭发送数据口（当然确认信号还是可以发），就会发FIN给主机B。</li> <li>主机B收到A发送的FIN，表示收到了，就会发送ACK回复。</li> <li>到B数据发送完了，才会发送FIN给主机A。</li> <li>A收到B发来的FIN，知道B的数据也发送完了，回复ACK， A等待2MSL以后，没有收到B传来的任何消息，知道B已经收到自己的ACK了，A就关闭链接，B也关闭链接了。</li></ol> <p>就好像是这样的对话：</p> <div class="language- extra-class"><pre class="language-text"><code>A:“喂，我不说了。”
B:“我知道了。等下，上一句还没说完。Balabala......”
B:”好了，说完了，我也不说了。”
A:”我知道了。”
A等待2MSL,保证B收到了消息,否则重说一次”我知道了”,
</code></pre></div><h3 id="为什么等待2msl，从time-wait到close？"><a href="#为什么等待2msl，从time-wait到close？" aria-hidden="true" class="header-anchor">#</a> 为什么等待2MSL，从TIME_WAIT到CLOSE？</h3> <p>在 Client 发送出最后的 ACK 回复，但该 ACK 可能丢失。Server 如果没有收到 ACK，将不断重复发送 FIN 片段。所以 Client 不能立即关闭，它必须确认 Server 接收到了该 ACK。</p> <p>Client 会在发送出 ACK 之后进入到 TIME_WAIT 状态。Client 会设置一个计时器，等待 2MSL 的时间。如果在该时间内再次收到 FIN，那么 Client 会重发 ACK 并再次等待 2MSL。</p> <p>所谓的 2MSL 是两倍的 MSL(Maximum Segment Lifetime)。MSL 指一个片段在网络中最大的存活时间，2MSL 就是一个发送和一个回复所需的最大时间。如果直到 2MSL，Client 都没有再次收到 FIN，那么 Client 推断 ACK 已经被成功接收，则结束 TCP 连接。（如果 Server 没有收到，要发送 FIN 的话，在 2MSL 内 Client 会收到的 ）。</p> <h2 id="简单的-http-协议"><a href="#简单的-http-协议" aria-hidden="true" class="header-anchor">#</a> 简单的 HTTP 协议</h2> <p>客户端像服务器发起请求时会生成一段请求报文，<strong>请求报文是由请求方法、URL、协议版本，可选的请求首部字段和内容实体构成</strong>。</p> <p><img src="/fe-tutorial/assets/img/network-http-request.8c460a8c.png" alt="http-request"></p> <p>接收到请求的服务器，会将请求内容的处理结果以响应的形式返回。</p> <div class="language- extra-class"><pre class="language-text"><code>HTTP/1.1 200 OK
Date: Tue, 10 Jul 2012 06:50:15 GMT
Content-Length: 362
Content-Type: text/html

&lt;html&gt;
</code></pre></div><p>在起始行开头的 HTTP/1.1 表示服务器对应的 HTTP 版本。</p> <p>紧挨着的 200 OK 表示请求的处理结果的状态码（status code）和原因短语（reason-phrase）。下一行显示了创建响应的日期时间，是首部字段（header field）内的一个属性。</p> <p>接着以一空行分隔，之后的内容称为资源实体的主体（entity body）。</p> <p>响应报文基本上由协议版本、状态码（表示请求成功或失败的数字代码）、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成。</p> <p><img src="/fe-tutorial/assets/img/network-http-response.77706a21.png" alt="http-response"></p> <h2 id="http-是不保存状态的协议"><a href="#http-是不保存状态的协议" aria-hidden="true" class="header-anchor">#</a> HTTP 是不保存状态的协议</h2> <p>HTTP 是一种不保存状态，即无状态（stateless）协议。HTTP 协议自身不对请求和响应之间的通信状态进行保存。也就是说在 HTTP 这个级别，协议对于发送过的请求或响应都不做持久化处理。</p> <p><img src="/fe-tutorial/assets/img/network-http-stateless.63f95179.png" alt="http-request"></p> <p>使用 HTTP 协议，每当有新的请求发送时，就会有对应的新响应产生。协议本身并不保留之前一切的请求或响应报文的信息。这是为了更快地处理大量事务，确保协议的可伸缩性，而特意把 HTTP 协议设
计成如此简单的。</p> <p>可是，随着 Web 的不断发展，因无状态而导致业务处理变得棘手的情况增多了。比如，用户登录到一家购物网站，即使他跳转到该站的其他页面后，也需要能继续保持登录状态。针对这个实例，网站为了能够掌握是谁送出的请求，需要保存用户的状态。</p> <p>HTTP/1.1 虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了 Cookie 技术。有了 Cookie 再用 HTTP 协议通信，就可以管理状态了。</p> <p>Cookie 会根据从服务器端发送的响应报文内的一个叫做 Set-Cookie 的首部字段信息，通知客户端保存 Cookie。当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入 Cookie 值后发送出去。</p> <p><img src="/fe-tutorial/assets/img/network-http-cookie-1.639d7a06.png" alt="http-cookie"> <img src="/fe-tutorial/assets/img/network-http-cookie-2.ab660296.png" alt="http-cookie"></p> <h2 id="状态码"><a href="#状态码" aria-hidden="true" class="header-anchor">#</a> 状态码</h2> <p>HTTP 状态码负责表示客户端 HTTP 请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作。</p> <p><img src="/fe-tutorial/assets/img/network-http-statusCode.89f6d1fa.png" alt="http-statusCode"></p> <h3 id="_2xx-成功"><a href="#_2xx-成功" aria-hidden="true" class="header-anchor">#</a> 2XX 成功</h3> <ul><li>200 OK，表示从客户端发来的请求在服务器端被正确处理</li> <li>204 No content，表示请求成功，但响应报文不含实体的主体部分</li> <li>206 Partial Content，进行范围请求</li></ul> <h3 id="_3xx-重定向"><a href="#_3xx-重定向" aria-hidden="true" class="header-anchor">#</a> 3XX 重定向</h3> <ul><li>301 moved permanently，永久性重定向，表示资源已被分配了新的 URL</li> <li>302 found，临时性重定向，表示资源临时被分配了新的 URL</li> <li>303 see other，表示资源存在着另一个 URL，应使用 GET 方法定向获取资源（和302有相同功能，但是要求客户端应该用get方法获取资源，这就是它们的区别）</li> <li>304 not modified，表示服务器允许访问资源，但因发生请求未满足条件的情况</li> <li>307 temporary redirect，临时重定向，和302含义相同</li></ul> <h3 id="_4xx-客户端错误"><a href="#_4xx-客户端错误" aria-hidden="true" class="header-anchor">#</a> 4XX 客户端错误</h3> <ul><li>400 bad request，请求报文存在语法错误</li> <li>401 unauthorized，表示发送的请求需要有通过 HTTP 认证的认证信息</li> <li>403 forbidden，表示对请求资源的访问被服务器拒绝</li> <li>404 not found，表示在服务器上没有找到请求的资源</li> <li>405 not allowed 请求方法错误，比如用 post 方式去请求静态文件</li></ul> <h3 id="_5xx-服务器错误"><a href="#_5xx-服务器错误" aria-hidden="true" class="header-anchor">#</a> 5XX 服务器错误</h3> <ul><li>500 internal sever error，表示服务器端在执行请求时发生了错误</li> <li>503 service unavailable，表明服务器暂时处于超负载或正在停机维护，无法处理请求</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">1/8/2020, 12:40:40 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/fe-tutorial/assets/js/app.1952d5e4.js" defer></script><script src="/fe-tutorial/assets/js/2.8afe0319.js" defer></script><script src="/fe-tutorial/assets/js/5.247a40bb.js" defer></script>
  </body>
</html>
