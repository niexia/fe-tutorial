(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{647:function(t,s,a){"use strict";a.r(s);var n=a(54),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"webpack-核心概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-核心概念"}},[t._v("#")]),t._v(" webpack 核心概念")]),t._v(" "),a("p",[t._v("上一节的例子中，已经通过一个配置实现来进行打包了，那怎么配置多入口呢？接下来，学习 webpack 的概念和常用的配置。")]),t._v(" "),a("h2",{attrs:{id:"entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entry"}},[t._v("#")]),t._v(" entry")]),t._v(" "),a("p",[a("code",[t._v("entry")]),t._v(" 在 webpack 是非常重要的概念，在 webpack 里，通过 "),a("code",[t._v("entry")]),t._v(" 指定打包的入口。")]),t._v(" "),a("p",[t._v("webpack 是一个模块打包器，在 webpack 里，所有的都是模块，不管是我们的代码，或者其他资源，图片、字体 等。任何时候，一个文件依赖于另一个文件，webpack 就把此视为文件之间有依赖关系。webpack 根据 "),a("code",[t._v("entry")]),t._v(" 定义的模块开始处理我们的应用程序。从 "),a("code",[t._v("entry")]),t._v(" 开始，webpack 递归的构建一个依赖图，这个依赖图包含这应用程序所需的每个模块，然后将所有模块打包为少量的 bundle（通常只有一个），可有浏览器加载。")]),t._v(" "),a("p",[t._v("接下来看看 "),a("code",[t._v("entry")]),t._v(" 的配置，"),a("code",[t._v("entry")]),t._v(" 分两种：单入口和多入口。")]),t._v(" "),a("h3",{attrs:{id:"单入口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单入口"}},[t._v("#")]),t._v(" 单入口")]),t._v(" "),a("p",[t._v("用法："),a("code",[t._v("entry: string")])]),t._v(" "),a("p",[a("strong",[t._v("webpack.config.js")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./path/to/my/entry/file.js'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"多入口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多入口"}},[t._v("#")]),t._v(" 多入口")]),t._v(" "),a("p",[t._v("用法："),a("code",[t._v("entry: {[entryChunkName: string]: string}")])]),t._v(" "),a("p",[a("strong",[t._v("webpack.config.js")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    app"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/app.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    adminApp"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/adminApp.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("根据经验：每个 HTML 文档只使用一个入口起点。")])]),t._v(" "),a("h2",{attrs:{id:"output"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#output"}},[t._v("#")]),t._v(" output")]),t._v(" "),a("p",[a("code",[t._v("output")]),t._v(" 是用来告诉 webpack 如何向硬盘写入编译文件。也就是说 "),a("code",[t._v("entry")]),t._v(" 是用来告诉 webpack 从哪里开始打包我们的源代码，而 "),a("code",[t._v("output")]),t._v(" 对应的打包之后的文件的存储。")]),t._v(" "),a("p",[t._v("注意，即使可以存在多个 "),a("code",[t._v("entry")]),t._v(" 起点，但只指定一个 "),a("code",[t._v("output")]),t._v(" 配置。")]),t._v(" "),a("h3",{attrs:{id:"单入口配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单入口配置"}},[t._v("#")]),t._v(" 单入口配置")]),t._v(" "),a("p",[t._v("比较简单，只需要指定 "),a("code",[t._v("filename")]),t._v(" 和 "),a("code",[t._v("path")]),t._v(" 就可以了。")]),t._v(" "),a("p",[a("strong",[t._v("webpack.config.js")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" __dirname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dist'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("此配置将一个单独的 "),a("code",[t._v("bundle.js")]),t._v(" 文件输出到 "),a("code",[t._v("dist")]),t._v(" 目录中。")]),t._v(" "),a("h3",{attrs:{id:"多入口配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多入口配置"}},[t._v("#")]),t._v(" 多入口配置")]),t._v(" "),a("p",[t._v('如果配置创建了多个单独的 "chunk"（例如，使用多个入口起点或使用像 CommonsChunkPlugin 这样的插件），需要通过“'),a("strong",[t._v("占位符")]),t._v("”确保文件名称的唯一。")]),t._v(" "),a("p",[a("strong",[t._v("webpack.config.js")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    app"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/app.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    search"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/search.js'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[name].js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 占位符")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" __dirname "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/dist'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 写入到硬盘：./dist/app.js, ./dist/search.js")]),t._v("\n")])])]),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://webpack.docschina.org/concepts/entry-points/",target:"_blank",rel:"noopener noreferrer"}},[t._v("入口起点 entry"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://webpack.docschina.org/concepts/output/",target:"_blank",rel:"noopener noreferrer"}},[t._v("输出 output"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);