import{_ as s,r as a,o as n,c as l,a as o,b as p,d as e,e as r}from"./app.070707c9.js";const t=JSON.parse('{"title":"二分查找","description":"","frontmatter":{},"headers":[{"level":2,"title":"二分查找的核心思想","slug":"二分查找的核心思想","link":"#二分查找的核心思想","children":[]},{"level":2,"title":"极快的查找速度","slug":"极快的查找速度","link":"#极快的查找速度","children":[]},{"level":2,"title":"实现二分查找","slug":"实现二分查找","link":"#实现二分查找","children":[{"level":3,"title":"最简单的二分查找","slug":"最简单的二分查找","link":"#最简单的二分查找","children":[]},{"level":3,"title":"二分查找的局限性","slug":"二分查找的局限性","link":"#二分查找的局限性","children":[]}]}],"relativePath":"algo/binary-search/binary-search.md"}'),c={name:"algo/binary-search/binary-search.md"},F=p("h1",{id:"二分查找",tabindex:"-1"},[e("二分查找 "),p("a",{class:"header-anchor",href:"#二分查找","aria-hidden":"true"},"#")],-1),y=r('<p>二分查找算法也叫折半查找算法。</p><p>猜字游戏都应该玩过，随机写一个 0 到 99 之间的数字，然后猜一下是什么？猜的过程中，每猜一次会告诉你大了还是小了，知道猜中为止。如何快速猜中写的数字？</p><p>通过二分查找，最多 7 次就可以猜中。</p><h2 id="二分查找的核心思想" tabindex="-1">二分查找的核心思想 <a class="header-anchor" href="#二分查找的核心思想" aria-hidden="true">#</a></h2><p>二分查找针对的是一个<strong>有序的数据集合</strong>，查找思想类似分支思想。每次都通过跟区间的中间元素对比，将待查找的区间缩小为之前的一半，直到找到要查找的元素，或者区间被缩小为 0。</p><h2 id="极快的查找速度" tabindex="-1">极快的查找速度 <a class="header-anchor" href="#极快的查找速度" aria-hidden="true">#</a></h2><p>二分查找每次将数据范围缩小为原来的一半，现在假设数据量大小为 n，最坏情况下，知道查找区间被缩小为空，才停止：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">// 查找区间的变化</span></span>\n<span class="line"><span style="color:#A6ACCD;">n，n/2，n/4，...，n/2^k，...</span></span>\n<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>当 n/2^k = 1 时，就是最后一次查找，此时 k 的值就是查找的次数。时间复杂度为 O(k)，而 k = log2n，所以时间复杂度就是 O(logn)。这是一个<strong>对数时间复杂度</strong>，它极其高效。</p><p>比如，n 等于 2^32，如果在这么多的数据中用二分查找一个数据，最多需要比较 32 次。</p><p>用大 O 表示法的时候，省略了常数、系数和低阶。所以对于一个常量级的算法来说，O(1) 可能是一个非常大的常量值，比如 O(100)、O(1000)，这个时候，它们可能还没有 O(logn) 执行效率高。</p><h2 id="实现二分查找" tabindex="-1">实现二分查找 <a class="header-anchor" href="#实现二分查找" aria-hidden="true">#</a></h2><p>二分查找其实也有好几种，先写一个<strong>简单</strong>的二分查找。</p><h3 id="最简单的二分查找" tabindex="-1">最简单的二分查找 <a class="header-anchor" href="#最简单的二分查找" aria-hidden="true">#</a></h3><p>最简单的情况就是<strong>有序数组中不存在重复的元素</strong>，用二分查找值等于给定值的元素。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">binarySearch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">low</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">high</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">low</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">high</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">floor</span><span style="color:#F07178;">((</span><span style="color:#A6ACCD;">low</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">high</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">/</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mid</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">low</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">high</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mid</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>\n<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>\n<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>\n<span class="line"><span style="color:#89DDFF;">}</span></span>\n<span class="line"></span></code></pre></div><p><strong>容易出错的 3 个地方</strong>：</p><ol><li>循环的退出条件</li></ol><p>注意是 <code>low &lt;= high</code>，而不是 <code>low &lt; high</code>。</p><ol start="2"><li>mid 的取值</li></ol><p>实际上，<code>mid = (low + high) / 2</code> 可能会溢出，因为如果 low 和 hight 都比较大的话，两者之和就可能溢出，改进方法是写成 <code>low + (high - low) / 2</code>。或者更追求性能的话，可以写成位运算 <code>low + ((high - low) &gt;&gt; 1)</code>。</p><ol start="3"><li>low 和 high 的更新</li></ol><p><code>low = mid + 1</code>，<code>high = mid - 1</code>。这一这里需要 +1 和 -1，而不能直接写成 <code>low = mid</code> 和 <code>high = mid</code>，否则可能会造成死循环。比如 <code>high = 3</code>，<code>low = 3</code>，如果 <code>arr[3]</code> 不等于 <code>target</code> 就会死循环了。</p><h3 id="二分查找的局限性" tabindex="-1">二分查找的局限性 <a class="header-anchor" href="#二分查找的局限性" aria-hidden="true">#</a></h3><p>虽然二分查找效率很高，但是应用场景有很多的局限性。</p><p><strong>1. 依赖数组这种顺序表结构</strong></p><p>二分查找需要按照下标随机访问元素，数组按照下标随机访问数据的时间复杂度是 O(1)。它不能依赖于其它数据结构，比如链表，链表的随机访问时间复杂度是 O(n)，如果使用链表来存储，二分查找的复杂度会高很多。</p><p><strong>2. 二分查找针对的是有序数据</strong></p><p>二分查找对这一点比较苛刻，数据必须是有序的。如果数据没有序，需要先排序。如果针对的是一组静态的数据，没有频繁的插入和删除，那就可以进行一次排序，然后多次查找。而对于频繁插入和删除的，需要每次插入、删除的时候保证数据仍然有序，或者每次二分查找之前都进行排序。这种动态的数据，无论什么方法，效率都不高了。</p><p>所以二分查找还只能用在不频繁插入、删除，可以一次排序多次查找的场景。而频繁插入、删除就应该使用二叉树了。</p><p><strong>3. 数据量太小不适合二分查找</strong></p><p>数据量太小完全没有必要，直接遍历就好。不管有个例外，如果数据之间的比较很耗时，这个时候，不管数据量大小都推荐二分查找，可以减少比较次数。例如，从数组中找出值等于给定值的时候，每一个元素都是长度超过 300 的字符串，如此长的字符串之间比较很耗时，推荐二分查找，减少比较次数。</p><p><strong>4. 数据量太大也不适合二分查找</strong></p><p>因为二分查找依赖数组，而数组需要的是连续的内存空间。如果有 1 GB 的数据，那也就意味着需要 1GB 的连续空间，如果此时剩余 2 GB 空间，但是没有连续的 1 GB，那就无法使用二分查找了。</p>',34);const i=s(c,[["render",function(s,p,e,r,t,c){const i=a("VueJobs");return n(),l("div",null,[F,o(i),y])}]]);export{t as __pageData,i as default};
