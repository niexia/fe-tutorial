<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>从入门到真实项目配置 | fe-tutorial</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/fe-tutorial/favicon.ico">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-163994034-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-163994034-1');
      </script>
    <meta name="description" content="前端学习笔记">
    
    <link rel="preload" href="/fe-tutorial/assets/css/0.styles.1a1809c8.css" as="style"><link rel="preload" href="/fe-tutorial/assets/js/app.bde7a860.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/2.ae25ac57.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/4.88d50aeb.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/24.ad82ced8.js" as="script"><link rel="prefetch" href="/fe-tutorial/assets/js/10.525a81ed.js"><link rel="prefetch" href="/fe-tutorial/assets/js/100.f6602289.js"><link rel="prefetch" href="/fe-tutorial/assets/js/11.25544251.js"><link rel="prefetch" href="/fe-tutorial/assets/js/12.1090c0b3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/13.401309e1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/14.9b6e0d73.js"><link rel="prefetch" href="/fe-tutorial/assets/js/15.3e7e5eea.js"><link rel="prefetch" href="/fe-tutorial/assets/js/16.4e3ca28b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/17.234e5681.js"><link rel="prefetch" href="/fe-tutorial/assets/js/18.e9b292c2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/19.6f6dc26e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/20.456acb11.js"><link rel="prefetch" href="/fe-tutorial/assets/js/21.2528cd2d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/22.9ccec86b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/23.a8fb0f59.js"><link rel="prefetch" href="/fe-tutorial/assets/js/25.9df5ece6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/26.7e6047cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/27.3a93e0ca.js"><link rel="prefetch" href="/fe-tutorial/assets/js/28.db0473da.js"><link rel="prefetch" href="/fe-tutorial/assets/js/29.a34447d9.js"><link rel="prefetch" href="/fe-tutorial/assets/js/3.8ff30ab3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/30.9a2865d0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/31.6a5c3f52.js"><link rel="prefetch" href="/fe-tutorial/assets/js/32.77b98555.js"><link rel="prefetch" href="/fe-tutorial/assets/js/33.e4d3920d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/34.a0158bbc.js"><link rel="prefetch" href="/fe-tutorial/assets/js/35.c6052b1c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/36.7fe42190.js"><link rel="prefetch" href="/fe-tutorial/assets/js/37.9be40d3d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/38.92039ee3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/39.78a07463.js"><link rel="prefetch" href="/fe-tutorial/assets/js/40.b82feb49.js"><link rel="prefetch" href="/fe-tutorial/assets/js/41.49ee1545.js"><link rel="prefetch" href="/fe-tutorial/assets/js/42.2bb4faf1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/43.822f1bc1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/44.ba14cd38.js"><link rel="prefetch" href="/fe-tutorial/assets/js/45.a61d7c83.js"><link rel="prefetch" href="/fe-tutorial/assets/js/46.49d82fe1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/47.20ad918b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/48.81b6262a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/49.5c079724.js"><link rel="prefetch" href="/fe-tutorial/assets/js/5.a826b837.js"><link rel="prefetch" href="/fe-tutorial/assets/js/50.f2fd87c7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/51.d6e2154b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/52.dfe4d3c3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/53.d3c20efa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/54.910d49fe.js"><link rel="prefetch" href="/fe-tutorial/assets/js/55.8851f3b0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/56.3d9a4a43.js"><link rel="prefetch" href="/fe-tutorial/assets/js/57.cda9bad5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/58.17b55089.js"><link rel="prefetch" href="/fe-tutorial/assets/js/59.2d1c9114.js"><link rel="prefetch" href="/fe-tutorial/assets/js/6.0e5284b6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/60.c9abe2e7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/61.6972f1cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/62.d54550b7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/63.0c073df1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/64.10b87731.js"><link rel="prefetch" href="/fe-tutorial/assets/js/65.74bf2dfa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/66.f1236341.js"><link rel="prefetch" href="/fe-tutorial/assets/js/67.ba9a5e98.js"><link rel="prefetch" href="/fe-tutorial/assets/js/68.da228f4e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/69.1ec74af0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/7.e0107206.js"><link rel="prefetch" href="/fe-tutorial/assets/js/70.c47676e5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/71.edcc3be0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/72.556f5bf4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/73.1bbdc79c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/74.1b282d27.js"><link rel="prefetch" href="/fe-tutorial/assets/js/75.caf4594f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/76.75346e61.js"><link rel="prefetch" href="/fe-tutorial/assets/js/77.8453aeef.js"><link rel="prefetch" href="/fe-tutorial/assets/js/78.19c51d2c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/79.641b47b0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/8.bfbcfd20.js"><link rel="prefetch" href="/fe-tutorial/assets/js/80.ede0dd2a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/81.f1cdbde7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/82.5339adeb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/83.ff46804c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/84.23ee0534.js"><link rel="prefetch" href="/fe-tutorial/assets/js/85.e4d79f1a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/86.52e73c0a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/87.8c849f61.js"><link rel="prefetch" href="/fe-tutorial/assets/js/88.b848efcb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/89.e1518065.js"><link rel="prefetch" href="/fe-tutorial/assets/js/9.8eb689ae.js"><link rel="prefetch" href="/fe-tutorial/assets/js/90.870983d3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/91.55e00200.js"><link rel="prefetch" href="/fe-tutorial/assets/js/92.c71e4b31.js"><link rel="prefetch" href="/fe-tutorial/assets/js/93.f8e39aec.js"><link rel="prefetch" href="/fe-tutorial/assets/js/94.584b61c6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/95.c08c3238.js"><link rel="prefetch" href="/fe-tutorial/assets/js/96.cee817ce.js"><link rel="prefetch" href="/fe-tutorial/assets/js/97.4f4a9caa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/98.b78c0a67.js"><link rel="prefetch" href="/fe-tutorial/assets/js/99.64fb0d9b.js">
    <link rel="stylesheet" href="/fe-tutorial/assets/css/0.styles.1a1809c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-tutorial/" class="home-link router-link-active"><!----> <span class="site-name">fe-tutorial</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link">
  数据结构和算法
</a></div><div class="nav-item"><a href="/fe-tutorial/network/" class="nav-link">
  网络协议
</a></div><div class="nav-item"><a href="/fe-tutorial/fee/" class="nav-link router-link-active">
  前端工程化
</a></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/niexia/fe-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link">
  数据结构和算法
</a></div><div class="nav-item"><a href="/fe-tutorial/network/" class="nav-link">
  网络协议
</a></div><div class="nav-item"><a href="/fe-tutorial/fee/" class="nav-link router-link-active">
  前端工程化
</a></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/niexia/fe-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工程化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/fee/" aria-current="page" class="sidebar-link">介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>git 规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/fee/git/" class="sidebar-link">关于版本控制</a></li><li><a href="/fe-tutorial/fee/git/如何配置git提交规范.html" class="sidebar-link">如何配置 git 提交规范</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>构建工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/fee/webpack/介绍.html" class="sidebar-link">构建工具介绍</a></li><li><a href="/fe-tutorial/fee/webpack/初识webpack.html" class="sidebar-link">初识webpack</a></li><li><a href="/fe-tutorial/fee/webpack/webpack核心概念.html" class="sidebar-link">webpack 核心概念</a></li><li><a href="/fe-tutorial/fee/webpack/webpack的运行机制.html" class="sidebar-link">webpack 的运行机制</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="从入门到真实项目配置"><a href="#从入门到真实项目配置" class="header-anchor">#</a> 从入门到真实项目配置</h1> <p>了解了 webpack 的基本概念，接下来手动配置一个。注意使用的是 webpack 版本为 <code>3.6.0</code>，webpack 4.x 的很多配置都已经做了调整。</p> <h2 id="简单使用"><a href="#简单使用" class="header-anchor">#</a> 简单使用</h2> <h3 id="准备"><a href="#准备" class="header-anchor">#</a> 准备</h3> <p>创建一个你自己的文件夹，然后执行 <code>npm init</code> 自动创建这个 package.json 文件。</p> <div class="language- extra-class"><pre class="language-text"><code>mkdir webpack-demo
cd webpack-demo
npm init
</code></pre></div><h3 id="安装-webpack"><a href="#安装-webpack" class="header-anchor">#</a> 安装 webpack</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 全局安装</span>
npm install <span class="token operator">-</span>g webpack
<span class="token comment">// 安装到你的项目目录</span>
npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev webpack
</code></pre></div><p>只需要安装到自己的项目就可以了，值得注意的是，这里安装的时候指定一个下 webpack 的版本号，所以需要执行下面的安装指令</p> <div class="language-js extra-class"><pre class="language-js"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev webpack@<span class="token number">3.6</span><span class="token number">.0</span>
</code></pre></div><h3 id="目录文件配置"><a href="#目录文件配置" class="header-anchor">#</a> 目录文件配置</h3> <p>按照下面的目录结构创建对应的文件</p> <p><img src="data:image/png;base64,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" alt="config-1"></p> <p>文件的内容分别为：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- index.html --&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./build/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// app/index.js</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./sum.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// app/sum.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">&quot;./app/index.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 入口文件</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 必须使用绝对地址，输出文件夹</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span> <span class="token comment">// 打包后输出文件的文件名</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>有了 <code>webpack.config.js</code> 配置，我们就可以执行 webpack 了。</p> <div class="language- extra-class"><pre class="language-text"><code>node_modules/.bin/webpack

// windows
node_modules\.bin\webpack
</code></pre></div><p>然后就可以看到执行的结果如下：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAv4AAACVCAYAAAAgyf4JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACPXSURBVHhe7d09jis3usbxuxKf8Thw5GScOb3A7KFhwFs4G7DRgNNZgoCJnCmYJRgd3OwkAy/CK3CsW/x4yZfkS9aHqtRS6x/80FLxo8iqkvRUSS39z1dffXUBAAAA8LER/AEAAIAnQPAHAAAAngDBHwAAAHgCBH8AAADgCRD8AQAAgCdA8AcAAACeAMEfAAAAeAIEfwAAAOAJvEvwfz1/ubydXsyyea+X85cvly9vp8uLWV57uZzevlzOr1bZyNZ22y3aLq/nyxc3f+/NrvOw1u7bry4vp7e8Pc6vRdma4+y6Y3Le/v3f+vgM69tjDkdv61u4pzksHcvosbLVtu2w5Nhd/1zAYwwA5m0P/kUADRY/Yb2cLm8rntBL/RcE+4l/65P3rZ/0J7PbJcx9zzFtfbHc/0XWWf9iL3yoqcPMiuPsmPkoVx3zlscNJYdv6xu4pzmsHYv5WNlq03G95Njd8FzAYwwAZl0Z/M+XV7nvnnQXh/9jnlDtF8Ct67r1k74zs06/jdU238HWAHNv4c0OM8v34fHz2ft4uvXxGda3xzY6fFu756a9gm3HPR3/a8eya/DfdBwedezyGAOAOfsFf7Us14tXbawXGVfXvDoT2xTCR1p6b1UXyzVfR568db8y7vaJPb8ojtoN+NBx8m3duE+v4YTIzTXUCf2WY6za965aWdvcm+nTsGybVfWnsnE7V7faf2ouElB0H7KOot9m/NX8jO0j49PLvO72rPqc5Bfczvac3bf9uaf21TI7tIX169vNWOLy/nE9je+ld+xWfVrjTO1kfKFNHqv0rR/vPdX6Up9G2S7bOvZZz8svH22XBX2q8tk5jOwxP1Wu95H9fDZeNp5Dvb7qOcg4rsdknPZ+6D8XuHaj/Td52scYACyzb/D3V6T1587jE1fzIiNl7omzXO6epFP9+C5CfcWlF/JGT/D+xdWvSz+5htuj4J/bVWPriU/ork9f32+jMFdXXvZRP9E77XYpXgi12M98n32jbTYKEKN2eXnchnqcaty+zxR0AmvfvpzOanvY87PaBQuOs3hf+izL1PqG+3Y896Czb5txh7budncs0r/qL9cdlc1sTz/HdnuV9dw89FzHyjmE+9K2O7+rt7VuJ8tivTQ/3c+4z01ziHVNV8yvP5ZQb/S47S0bzaH/2BLtcT0W56Pa1HNy2vXW7cpxBs/5GAOApfYN/umFSy/ra5+Qw5NdfuGqnjCj3guRe+JtnyhDH/aL4boymXO6b3F14tWdPB7ZLu5vtc1ifd1Hb379bT7fZ8/6bRbum+2s8cWPJ7nb/oVRX/lSZaI7d8WqM2rXlBkfmSr3VWd7xr/mvp2Zu2jG4trF+02fw307Oj47ZZ1jIo8ptGuPB0fKTtOYenUM77itHT+3qU0IWYPjetTn1jnoZbWt8xuOZTA/Vb9dNp5D2IZVecVaT1/n+HTzU/XaPjfOz/Ud7zfbejj30Tg7ZZ39nscU2oUx1PWkbOVjDABWOPiK/4zmRSw88aUn7dhffWWk9yKTn9T18vYJun4SXlqWXnzTbXfFR8R5xCd/8wW9aRPVLxbNdom623zQZ2+c0fptFu6b7dTc07I4F3fbXlfJ3LfWHKs6vWPCq7dnfX+Sxmaty3Hbc7RvZ+ZeLyvG4ttN/ZzPEzeHEEaGYxken0ZZPHZyvarPtN6qXRL6DPWNq5VNn3GOcUzvsq0n/rhwffr5DY7rUZ9b56DqN7bObzSWBY9bc9mCObh1yPKwrtyfZ4yrb3Ts5mXt2JfNrxmLu++354M/xgBgB7sGf/8kLE98C+UXrXxfP1laLzLmk/2k7isYvVisK5MX5HTfMnpBr1+QBsy5GNt8TZ+W9dss3F88vrjM3bbXVWr3bXih1O2s/W8t04p1G9sslY+252jfzsxdK7dDCCCvU1237HUKJq9uDO44G+7b0fE5KhttT6NdEspcO1+/O67KO25r166sNziuR31uncPI1vmNxjKan6rfLFs1h/b4EXkc5fLW6PjMy9qxL5ufU47lgz/GAGCF/YK/v18/oYUnQOuJOYlPlv7q1sIXoN6TvV8ufSWjF4v8ROvL4hzsJ+iqbo+aT/OCHvsYbg+ht4te1myfFX0aRtvM3i6jdvULXtnPkmDQ7tvQZ9oP/hhp59u2qxTbs+zTt03jHmzP4b4dz73XT2h3vpziZ4LdWNxVybD+0b4NZfbxWZfpsZVzr7dn2BbWY7Ccj5t/u/8t5fputa3t8dXbRR83oz43zmFk8/zmx5LauXVMZfXY8pxl2Zo5VOvQiuM6kuOrWB76yPvB7rM3Tnv/5WXeUz3GAGC5K4P/9MSUWG9NhidA+0lVlE+g/smu6Ld8oq3Lyr6rOuqJvftiIU/KzvQk+5rK2vXVL0ym4Qu6q7O033bcYZv3XzDm+7RUbWe3y0w72efNcr09pA/Rjl+3DS+Usty9gPf3kVeMs1xH2p76+J3qu3XksbX9+rLZfdufe0mPJa5LXuDjdp8dS3f5qI0rG21Pq7xcX7sOmfvArbe1a2tu+7Cu7nPBXJ9q+aI5SFvLtfNTy4uxrHg+k/ah394cjHZ6LIV2+6bxyPGt6uk+R9vSU3Po7z9N1419fuTHGAAstD347ym+CIYn5CrY+mVP+sQn28Uqw3r3tD0PHUsIDEUAA26BxxgA3LX7CP7CPVFXwT9cGWk/Jw2gh1ACHIvHGIDHdF/Bf+Le9tZvgdYnAgDmEEruQfFRnYpVH4+ExxiAx3R3wR8AAADA/gj+AAAAwBMg+AMAAABPgOAPAAAAPIE7C/4f4R+m4vdvd7/r+jrl9z/z/c59x+4HAACAR7M9+BtfvSnLinqrHBH8Q5/6GzWcYh36R28m6QdUquXFfP1cVVkKmDOBc1OfVdti+YL5jfTmfo3U52BuyYLj5Yj94BwxdwAAgDv1PMH/Tf9yZCZX0Nt1huDY/Iqi/0EYV5Z/qVj6CHVHgXNrn+Wycqzj+Y30576d9BlUx4dmnsRYjtgPx8wdAADgnh0Y/GNAc+HLKYJpVZb6CcvPrzG0FWViHOhao2A86CsGUx28/W8M+MBp1w39SJ8nNccYTjf3GZZtDf5lGF8WjFN5Uu4Hs08/5jDX8HsM/eAfynNo7x4vR+yH2bkDAAB8PIcF/5fTuQl1Et58aDRDl4Q/CWhlu2BtaKsCpW6bQuVJhdwcRkM4nUwh8xRvm1eI/bxlnDkwh7px/TGobuoz3m74eQzmN+le2Z6du9q3RaAe9KkMg7/0J+E+zUHql/t49/0wM3cAAICP6MrgL6FJsz/qo8N+CI5WKAzhTIe6/knCRjJu12eaQxU41RxS6HRSUNXGoTX3kf8Rd32fwZLAXcxPxmKtY8Hcs9zPsE9lFPybeaQgnk/wpH15P7p2P6yaOwAAwMdw3Ed95Kqu1oSwIAe+GwR/CYguxMYA2AZOF9LLIClhNYTfqq/ianEbOEPba/rU/cwEfz0/YyzJcO65vDDXpxL6qo4PL7af+krh3VqX546lA/bD3NwBAAA+oIOCfwhdOlj50GWGRV03BLhjg38Onv0rzaNw2F6FLoN4GzhTu819BsuCv5qfut1cIR/NXU7a0hwW9qnIvJrgb2wDayzJEfthNPd4HwAA4KM5NPinINYESS2E/RDClgT/NtCtUYbn8mpyEXCH4Tf304bVany6n819BkuCf13HDsXO/NxlHNKnjLPfZyYhuwz+9Trnlk+O2A+juRd9AAAAfBwH/nNvDIve+XJy94vQpaRQF8p0oPT9pHKnCnSzYv2k/ghNVT6Fv/5HUOJ8JUQ28klPsVyPdVOfoW0d6oO5+eWgnqTx9OdetJnq+/sqGNt9GnP34hxk7ua+G2y3I/bDYO4AAAAf0fbgDwAAAOBhEPwBAACAJ0DwBwAAAJ4AwR8AAAB4AgR/AAAA4AkQ/AEAAIAnQPAHAAAAnsADBv/4/esP+b3r7e8UHCusr/eDYAAAAHgem4N/L1C6H3aql+2L4L/c1uAf2ukfv1rVR/XDWsvaVuvkB7UAAAB2tTn4+1+RbcKZC+Vv6j5KjxL8S/YvBtvW1M1i6JfjSU4cpvt2fQAAAKy1/aM+Ppy9XU4vatnrWYW16gru+TXVc+8KuDAqIbEMilW7L+fLa2yn6+v+gvhOgEgnJa4/N05dnvss2jZ92mT85fIwbn27HWtYfn61xjI3zqrP+qTLbfvUTsYX2uSxSt/n3G6J2Pf8CcS67ZjE/vXJgtvGXziJBAAA2M0Vn/GvQ2UZiH1wqwJvUaYCorx7kG7PBMe2Tj2WGJJ9nXg7naS0414bWO0xhn7d7f7c67HouqMyt85zWt7MwQfn3C7T9cIcy3kvE/aX1X8lXql/O53Uyct8u3BCp+qpk5i6LgAAALa56p97JbCHK88uWEp4c7erq+ouzMVw74OkvmLtA2O4Ch1CYH1FvtQEbx8UqzapzxB+9dVkO7iv4NYX27u55GDtrlCP5t6ORcbeLYvbrJbnUJ0EFKQsBPF1oT+cKEgAX9TWz8XVl/lLH+N3GPKJRazvjo3Yl1UfAAAA610V/IuP+8SQWnxGuxZDbA7Lqi8lBMHAqmcGf1m3ODL4u779+qagej5PXF8h8I/nboT7wTjzSYHUq/pM663aJaHPUH/+ynuXrDvuv64Y1vU+k1Bf1Kv4/VGPkeAPAACwq+uCf7qi/FKG+Rhme1ft54J/FkJtXdcM/vX6Umg+IPjHkP86rSPMfbrt5uyC8XDunXDfOylIZe12yHMw2iV5/4Rw3d8nY6Gf4sq9Ohko37kpx9kEf6ud31fG/GZOGAAAALDclcE/BrS3tynM6SvKMSh2wvXy4J+Dq17eBvc6GOt24fY4+If2y08GQvA/xc/du/7clX8dxO2+6rGMxqnnFG6nMgnPcR0hJFuhXvcfQ7gO3EvFYK7nFNY5LbP2expL3K7+5GXULtar2y3eHwAAAJhzdfA3r+B6EgIzHUDldqltk8OfUVaUS3isl4d2+wb/OBaZc3Oluzf33vJRm7DOHJgdd9JRzqEsL9fXrmPuSnq1LVN/qk53v1dt6/Kl7RbvCwAAACxxffDHTkIo1ycoAAAAwF4I/neD4A8AAIDjEPzvBsEfAAAAxyH4AwAAAE+A4A8AAAA8AYI/AAAA8AQI/gAAAMATODj4x+9mb76zHQAAAMAtbQ/+8muujbOqdwfBfzhO+UGrEt+sAwAAgI9mhyv+ITw3v+x6r+SXY/0vw8bgzzsSAAAA+OAOC/4vp7d8Fd2H7FjmrsCfT/FK+9vl9BqD+BS+Q53qKrxu68V3EZrly7yeXb/Tel/c/UHwXzvOL+fLa90HAAAAcCcOv+LvTwDq4D8FZfdxmhDCXWB2Yf7Nl/tlqb7V9xXBX672p6Bfh3fV78w4m3kBAAAAd+x9gn8M3i5Qh3YSqN3f6sp5rJ/uX0Heheh+hj+GfT/e4TilL67yAwAA4DHcV/CXK/K1XYK/W0foq/lYTxLfAXDrmwn+TngnIOjNHwAAALgHdxj8D7qKHq/mjwN6PjlYEvzrdoR/AAAA3Ks7+6hPvOKu6zdiOB/WqcV+Z04qio8CrQr+420AAAAAvLeDgr8E7YoL67OBum1b9r0h+Mer/W2b2Fci3/YT28ydoOi2q05EAAAAgNvaIfgDAAAAuHcEfwAAAOAJEPwBAACAJ0DwBwAAAJ4AwR8AAAB4AgR/AAAA4AkQ/AEAAIAnQPB/CvH3CuLvEth13tOG32aYde9zxhjHBAAAe3u44C+/rlv82NZh5Ie6xr/4+/5ioBHdHyp7/3nk/Rf4X0km5D21uz8m5AcA1eMnjNn6FW8AAO7XgwX/GMTPZ/8CXv6i7xEeIfgbYWYKKiE83RcJeHpsr6fT9Jfg/6we4phIwT+Pk+APAHhEDxb8wwv3+TUG8uIFPL6oJ/odgVGZhPso9llfhUx2DSI7eDld3qZx2SdB1dyKE5i6LMj92Nul7H+FOE57+0nIO6l1yj6SMmkX70/jkdtvU1DM+7dqJ+NWV22Lfpp2uJm7OyY6VPCXtmXwj/0m4XH2ep5ux4sUfgynen2jx1jdJ8cnAOB6jxX8/QtweAEML7wSZOMLaPHCKRaUpX7ii20KFHX5PdIBoTfOuXnU5XPbZYMYnuwTlDyH9mMe9brj/Wl/Lmrn9rsEzHp+5jGBm7mrY2JAnndicHf96uD/OoX71Ic6mfHB3z9fqeMtlo8fYxyfAIBjPFTw9y+k8mIYQ0N4cZcXUbmvDcrii7AOHuHFur4ityAcvKcUYkR9dXBmHsW2nMxul/XkHZRhyBsFua1lb29x2+htMjpecCv3dUwMSPB/yX2XV/y1vL78fBWONz9PCf7DxxjHJwDgGA8U/Dsv6HJ/FH57ZTHwth4s+CshPEx80JHlo3nkoJKuLs5ulw1inzcPeSLViUbHC27j3o6JnhT885X+81kFf+vxMq1vGPznHmMcnwCAAzxO8G9eCEUbRuVKovXCXpTFPu3g4Txe8NdjtpbV85AgU4SK2e2ygew/M2xdGeRGZS6AxX3em8/oeMGB7viYKKjgn/rwpuDfzEGtY+UV/x6OTwDAXh4m+FsBVZbpet4oUBRl88E+XEG/46ttUygpwoM59848u9tpfrtsIe9G5I8vTOs5Lw9r7h2J8h2Npe1kPp2PToyOFxzqbo8JrQj+an0q+MtjMIX0aR2+nlpXEfzT+hc8xjg+AQA7eZjg718k/YuoWh7fLk8v6FqqOyrrlBcvsFX5Hb745iBSj9GYmzPNPwcPq6zTdoe5l2OtrqLW45ax6I9FTHUkUI3b5dt+X0t4mqQyTerh5u7jmHB1O6rgn9uFiw7F+NVY5K8d/F1fcTyaH7exXMYMAMAVHuqfewEAAABsQ/AHAAAAngDBHwAAAHgCBH8AAADgCRD8AQAAgCdA8AcAAACeAMEfAAAAeAJXBP9/XD79378uf/vVKtvPp//86/L1v/8R7v/7l8s3//1X8J9/NnWvE+bzzf/9ZJR9ROq7xc1ybOGO13SM7nYs/fPyt137W654/Mk4oqMf+/Oq7+UHAABDjxX8hTsBeNTgr340yJn91dBC+cM+ZdtRmWUU/Hs/LFTXe2TVD5jtFB7N4/Vq/eA/Wt8eY7H7uM1jfx7BHwCANQj+N+XCpvoF0PoXQUfiCYMZ6EdlXfPBP/dX3390MfRLYJSTsem+XX+5Y4J/33MHfwAAsMYOwV+//f/58qkoU/VTWHdlv1w+/Wi1y23l4wTOsuBftVt0YtCuq7yqWpfrce5heaB2P//fqzcq66uDv1zlP6fbuk+3jg/zsSB/wtXOz52EFfU26IftzvH56+fp9k+xbHpc/PrT5Wt9HPY+3qaXa67OqGw0Fqtscljwd/vhfIrvvEwnwK/1CVj/XZmX01teXrwbJSfXcjw758trKgcA4HldHfx9WPkxLHOhJ4QIIxgUwV+3C/clXOQ+cp9Lgn/ZruxzMdevDv7Geva1NPi7elOYOYXAWoaZUdmIDv5hHPVJQB5XXMeSdyYeQAiNaj7xRMCp667VC/7d49MF/ylcu8eKr+NPLt1J8S9F+96x2FvfqKw7lqas10dos0vwj8dZOPFyx2041lz5y3RM52OuPlEN/L5sgr/rS/av3Q4AgGe070d9fIj5bJdVwd8s+9Fd7SyvqpvBowlBLihVV+PdWNZ+Xt/1Wwf/3a/yZz7sLPl8snwURQUcaTssi/dtEohOVeh3QvDPJxIfKzjJ1f10VdjtgxhCrfpr2EF5cHyq4zS3PTL4D8ay9PG3Z/CPx7/bJ+EYy8G/1ob8fvDXJ9NWOwAAntG+wT8Gh5sHf9/OXS2tXBv8J2790l8vYG0Rrjov/AiCD/dV3bhsWKaXNeTKqIRgXRYCcQ5Pse4HCU9h21fzPjL4j47PWwf/0ViWPv5uFfzlpFYj+AMAsNn+V/x9iHmP4F9dxdzCCP6ZC2P9kLVGCJ512B4JYaion8L9qEwta8gV/xfjJKQO/pMY0nL7BxZDvn4XQ/ZJUW+DftjuHJ/vEvw7Y7mr4B+OwWYfEfwBANhsx+Af7oeQoG9PZS7cuKuKc8E/hutU5pZbYbsJQaFPKxglPtTEK5tWuTMM/tWcNpKA2Q39cpUzBiJZ7j+eosKLvj8q68vB3933bdI66+Bf1n18YX7l/0ks2WbzRkHZPD6vDP7DY9YsGz1WFj7+rMfwFguCfzoG5XFR7SOCPwAAy+3wz71ZERAkaDtT+PiUgosRGnSokZMExy2bykK/7fpSHd/PwvF0g/2kCErG+sywtIYEzoq+kt4J/hJoUhsj7NhlPXWYlz5y6Er9Le7zkVRz3Gl+/SvwneNzGPznjnmj30VlnbG4su7jT/rM7Y8N/nKSLPvofDmlAF8d70KVEfwBAGhdEfw/IH0CAmzQD/4fyU7BHwAA3BTBPwkfc/j4oQ1HIvgDAIB79dzBX38cST7aYNUDFnLBPx1Po4+VPaRwcizzI/gDAPBYuOIPAAAAPAGCPwAAAPAECP4AAADAEyD4AwAAAE/gLoO//zEp+W7u5vvse8rvZdff472P2P/Nvg/cWl9ctnib1HJ7u3xP+XcBlv9C8a203/V+9+T3HRZuz/Qd+BuOFfsflK/9Jp/4j8H1Pzy7r9CVda3653r+0RgAgLXuNvjbvxJb/XCPGcIPCnXux4ZuGWLN9cnJjfzi7FqPGfzLH3IKmv3b/eEzy3XHSP/4PEoYb7vOv19+//N/L3/9Ff3xbVW+baz2V5IeFPxF5zc05r8ela8WBQBgqYcK/v6dgBT2Q4ht6x0R/GOI3Xylfa2j1nfL4L8fF/zH4TXu83P+JVi7nrjuGLl98Hf7rT2B+u0PHfa/vfwxhf8/f/97UcefQK58l+qY4D+D4A8AwOEeJ/j7K7pl+PFXgpsQe0Dw91ff6z7l6ruQq/ByQnJS5TLuUZnSrC+eCKQ2+or/XJ/1OCdpm1X9xtCcrrCnwCj13uL9HmNdw7EYczfMBX85Dl7cdlsV/PV44jb12756RyUuS9ul1mynerlRVq9jyI2z2lY/f3f5868fLr//nJf9/PsPl7/+/C7XcdzYdw3++iM2ny+fijJVXwf5JR/nqYO/bqM17Qn+AAAs9TjBvw51PoyFAFXUS6FOL7uOf6ehCmqvZ3VfPmbiA1YOk2EMMfD5sD0qi335vl0dKxhKeNRldZ/xvh5L2m75ftuXbpfDv+tT3y7HMxbmIYE1z3U+mJeGwV+fENbHSJfMPYdpP1a1zfRcc1m+b42nrBfWIfX8NlR9rOPGVAX/3773If9nfd9/5Of7XMfZOfh/899fLp9+zPVCEJ8J/qNlM2Vc8QcAYD+PF/zTPzm6wBoCUVEvBq61IbUrrq8bPD0dqMsA7fhA6Mc5Kot9DddXh3Wn7lONJZ4c5W2hyoz1hLHIiZQE9Sl0F/0vJ3Mrgn8xnmWaK+3V9ktzWBn8i3H4bRXmXoZ0t83K0F2sM3H1qpO1OB53O8yhKl/K76uqrQR/f+U/BP7f/Md9fphvO2N8xV8t+/XzdCLw2S4j+AMAcHceK/j74KdCTAw1Rb2dg383sKXxKJ3gH/qwg38u0/d7QW1d8A99dYK/NX5Pbc94ctAfz1gZ/CepP1FdxV4kbgM33xisi3eB9P0u4xjRx5IOy65Ptb8c8/hs5hb5YyK3k+XtiYNF7cu6TF3h/02W+ZOA6oq/I2Or5tGzOPj/+NPla4I/AAAP46E/4y9Br6i3JfhLMGoCVhvUi/pG2LbahMDnQuWoTPXTDWg7Bv84h34AlYB9tsfU3WZZmJsd7mVs/bn2+bZTOx2ka1a7zDhGimMpl7t11MeSW2Yfn0tPkMJ+WBb+J1bfxmf85V2AdN9ZfDKUrbri77+lh+APAMAjeJzgL0E0hZhwv1dvTfBPIbQKqWG5EVyr0Jza++BYBXEJyP7+qGywviRug4XBv+4/BWU/TquvLNSNY3HhcWqnt2lvm2lFH3V5NbbFYjtz/y4OufUxYhxLvq+3y5vRn597szxuz0XzMdY35PZpvR3jV3mmz/mH+7f7Vp9wP9TTt6cy/xEg4x9xNwR/v7z3FaAewR8AgKUeKPg7ElaDUZ01wT+F0CLMxXV1gmQK0c4UrPz9qW4K3loKXqOy0fqMdo5eX70OX6YDeqiTx9npV+pMt/P2zds93J+Y26wU+pHAaqxr0DYr9/nwxGhl8NdjaY+lMN4lx2GzD2V5at8uz22WcGOx5l1+j38T+p2dg7/+hp2ijv/YTyybgvqnFOTbdt5sWWe9zckBwR8AgKUeLPgvEULWquBvcYFpCmjr+4kB1wxbg7LN67tfZfB/NL2w/R6uGMtuwf9eEfwBAFiK4L+7jcH/I3g5Xc6y3xa8I3DP/EnL3eyn7cf0lscSwR8AgI/pboN/+kjE4uAYQ3VE8H8f2/bd/Ujjv7exy4nUwiv/+SNeS//hOHPBP320Zvj5+vekf0iM4A8AwBJ3GfwBAAAA7IvgDwAAADwBgj8AAADwBAj+AAAAwBPgn3sXu/U/5t7LPwLLd9Df49dyvvc3OG2w9Z90N/yzsf1Putd+C078p9r6n37d9/bLuqwf4urin3QBALiVuw3+/a8gjIG4G4QOCoP+e/ZvGH5vvb6u/YJ/8WNiUdpPKRBXy4eu29fj4+wIYbztOssf4vrrj2+r8m1jHf0Q1+7BX3R+gXf+K0L5Wk4AAI72WMHfh+Hz5eQC5E2Dfwy/N/uKx1uv7zZc8LfDq5uvOrFYfNJz3b6+ffB3J63tvH77Q4f9by9/WL/Cu9sPcR0csAn+AADcrQcK/lNoikHYXzm+ZfD3QbTuM77zkMj3pYflb6eTKpewNypTFq2v7DOHwnh/2j5uO345n2O7qf4p9OvGmvu11OuK7dM4e2MZ6wf/Wuh/fh/KvtbjifshniQW32Efl1nvPHhpG8YTr2a5UVavY8iNs9pWP393+fOvHy6//5yX/fz7D5e//vwu13F2D/76IzafL5+KMlVfB/klH+epg79uozXtCf4AABztAT/qc/vg7wN0FfBep0Cd7svHVHwwyyE0jCEGxWm847LYl+/b1dHry/XaOcc+e8HfB03VPo617GMs9+Puj8YydlTw1ycefqxqP+g+clm+b42nrBfWIfX8saf6WMeNqQr+v33vQ/7P+r7/yM/3uY6zc/D/5r+/XD79mOuFID4T/EfLZsq44g8AwPsj+M+JQXkcWHPYTrergOnC6bgs9mWuTwKuNa+6zzwW37ffTiq87hX8zbGMNVfaO0E2j7stKxn7Ol7Vd7fLkO62Sxm63Xra/erqGe8U+H0rc1hzlV/x275qK8HfX/kPgf83/3GfH+bbzhhf8VfLfv08nQh8tssI/gAAfBgE/xndoOcDpgqxjg+HbbgPfdjBP5fp+8b6YmDP65MQW/cZ709jOSb4T7pjWSOeQFThvzt/k7GvY0DWt31fxhVz8zhr5hbF4C/tZPnoOM3yPmmOWXWF/zdZ5k8Cqiv+joytmkfP4uD/40+Xrwn+AAB8eAR/RwJV02cb1Iv6Rti22oSg6MLoqEz1MxPsQjiWenWbPBbft5/TIPh3556FMdrhvhxLWz7i26p2oa81JxHGvlZX53W5m0N9TLhldvBfeuIRtvWy8D+x+jY+4y/vAqT7TpxXbx9ZVl3x99/SQ/AHAOAjI/hPUnitQmc3iMawLGNM7X3grIK4BGsrpBdlK4Kv1WfcHiGkh/v+tl/eD/69uWuhz055NYfFYjvZT4vnXqj3tZqn1PGB+e3yZhwvfp3N8tDHsvkY6xty+6qeY/wqz/Q5/3D/dt/qE+6Hevr2VOY/AmT8I+6G4O+X974C1CP4AwBwtAcK/jGQ+ZCqTMHNqrcm+KfwWoTAuD4jMDopYDtTIJOQnYK4lgLbqGy0PqOdrudCoSxXY5G/+17xnxlLV73/dAA2+nSmftt+tLpP67gJfdvhvGpf7wtZntq3y3ObJdxYrJOb8nv8m9Dv7Bz89TfsFHX8x35i2RTUP6Ug37bzZss6621ODgj+AAAc7SGv+I+FcLYq+FtimF7fTwyxZkgblG1e3/HK4P9oemH7PVwxlt2C/70i+AMAcDSC/+42Bv978nK6nGX7L3hH4J75k5a72d7bj80tjwmCPwAA0O42+KePUiwOnDFURwT/62zbB/cjjf/exi4nUguv/Of/wVj6D8eZC/7pozXDz9e/J/1DYgR/AACOdJfBHwAAAMC+CP4AAADAEyD4AwAAAE+A4A8AAAA8AYI/AAAA8AQI/gAAAMATIPgDAAAAT4DgDwAAAHx4X13+H793YP7Ys7qWAAAAAElFTkSuQmCC" alt="config-2"></p> <p>可以看到，原来两个文件的大小为 100B，打包之后的文件 <code>bundle.js</code> 大小为 2.66kB，webpack 肯定做了什么事情，打开 <code>bundle.js</code>，把一些注释删掉之后，可以看到：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bundle.js</span>

<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">modules</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// webpackBootstrap</span>
  <span class="token comment">// The module cache</span>
  <span class="token keyword">var</span> installedModules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// The require function</span>
  <span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Check if module is in cache</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Create a new module (and put it into the cache)</span>
    <span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">(</span>installedModules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      i<span class="token operator">:</span> moduleId<span class="token punctuation">,</span>
      l<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      exports<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Execute the module function</span>
    modules<span class="token punctuation">[</span>moduleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>
      module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span>
      module<span class="token punctuation">,</span>
      module<span class="token punctuation">.</span>exports<span class="token punctuation">,</span>
      __webpack_require__
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Flag the module as loaded</span>
    module<span class="token punctuation">.</span>l <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// Return the exports of the module</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// expose the modules object (__webpack_modules__)</span>
  __webpack_require__<span class="token punctuation">.</span>m <span class="token operator">=</span> modules<span class="token punctuation">;</span>
  <span class="token comment">// expose the module cache</span>
  __webpack_require__<span class="token punctuation">.</span>c <span class="token operator">=</span> installedModules<span class="token punctuation">;</span>
  <span class="token comment">// define getter function for harmony exports</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">exports<span class="token punctuation">,</span> name<span class="token punctuation">,</span> getter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">o</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>exports<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        get<span class="token operator">:</span> getter
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// getDefaultExport function for compatibility with non-harmony modules</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">n</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> getter <span class="token operator">=</span>
      module <span class="token operator">&amp;&amp;</span> module<span class="token punctuation">.</span>__esModule
        <span class="token operator">?</span> <span class="token keyword">function</span> <span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> module<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">getModuleExports</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> module<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
    __webpack_require__<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>getter<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> getter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> getter<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// Object.prototype.hasOwnProperty.call</span>
  __webpack_require__<span class="token punctuation">.</span><span class="token function-variable function">o</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">object<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> property<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// __webpack_public_path__</span>
  __webpack_require__<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// Load entry module and return exports</span>
  <span class="token keyword">return</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__webpack_require__<span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/* 1 */</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>因为 <code>module.export</code> 浏览器是不支持的，所以 webpack 将代码改成浏览器能识别的样子，关于 webpack 的模块机制，可以看一下这篇文章 <a href="https://zhuanlan.zhihu.com/p/25954788" target="_blank" rel="noopener noreferrer">从 Bundle 文件看 Webpack 模块机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>现在将 index.html 文件在浏览器中打开，应该也可以看到正确的 log。</p> <p>在命令行中输入命令需要代码类似于 <code>node_modules/.bin/webpack</code> 这样的路径其实是比较烦人的，不过值得庆幸的是 npm 可以引导任务执行，对 npm 进行配置后可以在命令行中使用简单的 <code>npm start</code> 命令来替代上面略微繁琐的命令。</p> <p>在 <code>package.json</code> 中对 <code>scripts</code> 对象进行相关设置即可，设置方法如下：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>然后再次执行 <code>npm run start</code>，可以发现和之前的效果是相同的。简单的使用到此为止，接下来我们来探索 webpack 更多的功能。</p> <p><img src="/fe-tutorial/assets/img/webpack-config-3.56ccf3c2.png" alt="config-3"></p> <p>注：npm 会在项目的 <code>package.json</code> 文件中寻找 <code>scripts</code> 区域，其中包括 <code>npm test</code> 和 <code>npm start</code> 等命令。其实 <code>npm test</code> 和 <code>npm start</code> 是 <code>npm run test</code> 和 <code>npm run start</code> 的简写。事实上，你可以使用 <code>npm run</code> 来运行 <code>scripts</code> 里的任何条目。使用 <code>npm run</code> 的方便之处在于，npm 会自动把 <code>node_modules/.bin</code> 加入 <code>$PATH</code>，这样你可以直接运行依赖程序和开发依赖程序，不用全局安装了。</p> <h2 id="更强大的功能"><a href="#更强大的功能" class="header-anchor">#</a> 更强大的功能</h2> <h3 id="loader"><a href="#loader" class="header-anchor">#</a> loader</h3> <p>webpack 只能理解 JavaScript 和 JSON 文件。loader 让 webpack 能够去处理其他类型的文件，并将它们转换为有效模块。</p> <h4 id="babel"><a href="#babel" class="header-anchor">#</a> Babel</h4> <p>Babel 可以让你使用 ES2015/16/17 写代码而不用顾忌浏览器的问题，Babel 可以帮你转换代码。</p> <p>Babel6 移除 Babel 全家桶安装，拆分为单独模块，例如：babel-core、babel-cli、babel-node、babel-polyfill等。为了使用 Babel，需要先安装几个 Babel 库。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i --save-dev babel-loader babel-core babel-preset-env
</code></pre></div><ul><li>babel-loader 用于让 webpack 知道如何运行 babel。</li> <li>babel-core 可以看做编译器，这个库知道如何解析代码。</li> <li>babel-preset-env 这个库可以根据环境的不同转换代码。</li></ul> <p>接下来更改 <code>webpack-config.js</code> 中的代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// .js 时才使用</span>
        use<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span> <span class="token comment">// 使用的是哪个loader</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span> <span class="token comment">// 不包括哪些路径</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>Babel 其实可以完全在 <code>webpack.config.js</code> 中进行配置，但是考虑到 Babel 具有非常多的配置选项，在单一的 <code>webpack.config.js</code> 文件中进行配置往往使得这个文件显得太复杂，因此 Babel6 支持把 Babel 的配置选项放在一个单独的名为 <code>.babelrc</code> 的配置文件中。webpack 会自动调用 <code>.babelrc</code> 里的 Babel 配置选项。</p> <p>配置 <code>.babelrc</code> 文件如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;babel-preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在将之前 JS 的代码改成 ES6 的写法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// app/sum.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
</code></pre></div><p>执行 <code>npm run start</code>，再观察 <code>bundle.js</code> 中的代码，可以发现代码被转换过了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// bundle.js</span>
<span class="token comment">// ...</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> exports<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>打开 <code>index.html</code>，同样可以正常输出 3。</p> <h4 id="处理图片"><a href="#处理图片" class="header-anchor">#</a> 处理图片</h4> <p>将使用 url-loader 和 file-loader，这两个库不仅可以处理图片，还有其他的功能，有兴趣的可以自行学习。先安装库。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i --save-dev url-loader@0.5.9 file-loader@0.11.2
</code></pre></div><p>创建一个 images 文件夹，放入两张图片，然后创建 <code>app/createImg.js</code> 文件，输入一下内容：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> smallImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
smallImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./../images/nx-small.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>smallImg<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bigImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bigImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./../images/nx-big.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>bigImg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>并且在 <code>app/index.js</code> 引入该文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./sum.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./createImg'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>目前的文件夹结构如下：</p> <p><img src="/fe-tutorial/assets/img/webpack-config-4.4170dddf.png" alt="config-4"></p> <p>然后修改 <code>webpack.config.js</code> 配置：</p> <div class="language-js extra-class"><pre class="language-js"><code>output<span class="token operator">:</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'build'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 必须使用绝对地址，输出文件夹</span>
  filename<span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 打包后输出文件的文件名</span>
  publicPath<span class="token operator">:</span> <span class="token string">'build/'</span> <span class="token comment">// 打包后的文件夹！</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// ...</span>
module<span class="token operator">:</span> <span class="token punctuation">{</span>
  rules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      use<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
          <span class="token comment">// 配置 url-loader 的可选项</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// 限制图片大小 10000B，小于限制会将图片转换为 base64 格式</span>
            limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
            <span class="token comment">// 超出限制，创建的文件格式</span>
            <span class="token comment">// build/images/[图片名].[hash].[图片格式]</span>
            name<span class="token operator">:</span> <span class="token string">'images/[name].[hash].[ext]'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最后执行 <code>npm run start</code>，看一下打包结果：</p> <p><img src="/fe-tutorial/assets/img/webpack-config-5.4da02695.png" alt="config-5"></p> <p>一开始未指定版本会导致打包之后，图片不能正确显示，可以从参考这个 issue <a href="https://github.com/webpack-contrib/html-loader/issues/140" target="_blank" rel="noopener noreferrer">wrong URLs [object Object] with file-loader@1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。所以需要指定为较低的版本</p> <h4 id="处理-css-文件"><a href="#处理-css-文件" class="header-anchor">#</a> 处理 CSS 文件</h4> <p>webpack 有一个不可不说的优点，它把所有的文件都都当做模块处理，JavaScript 代码，CSS 和 fonts 以及图片等等通过合适的 loader 都可以被处理。</p> <p>webpack 提供两个工具处理样式表，<code>css-loader</code> 和 <code>style-loader</code>，二者处理的任务不同。 <code>css-loader</code> 解释 (interpret) <code>@import</code> 和 <code>url()</code> ，会 <code>import/require()</code> 后再解析 (resolve)它们。 <code></code>简单来说，style-loader自动将 css 代码放到生成的 style 标签中插入到 head 标签里。二者组合在一起使你能够把样式表嵌入 webpack 打包后的 JS 文件中。</p> <p>添加 styles 文件夹，新增 img.css 文件，然后在该文件中新增代码：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">img</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 5px black solid<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.test</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 5px black solid<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>安装 loader</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev style-loader css-loader
</code></pre></div><p>首先修改 <code>createImg.js</code> 文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 引入样式</span>
<span class="token keyword">import</span> <span class="token string">&quot;./../style/img.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> smallImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
smallImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./../images/nx-small.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 必须 require 进来</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>smallImg<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bigImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
bigImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./../images/nx-big.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>bigImg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>然后修改 <code>webpack.config.js</code> 中的配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token punctuation">{</span>
  test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  use<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        modules<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 启用 CSS 模块和设置模式</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运行下 <code>npm run start</code>，然后刷新页面，可以发现图片被正确的加上了边框，现在我们来看一下 HTML 的文件结构：</p> <p><img src="/fe-tutorial/assets/img/webpack-config-6.8159d3ec.png" alt="config-6"></p> <p>从上图可以看到，我们在 <code>img.css</code> 文件中写的代码被加入到了 style 标签中，并且因为我们开启了 CSS 模块化的选项，所以 <code>.test</code> 被转成了唯一的哈希值，这样就解决了 CSS 的变量名重复问题。</p> <h3 id="plugin"><a href="#plugin" class="header-anchor">#</a> plugin</h3> <p>插件目的在于解决 loader 无法实现的其他事。</p> <h4 id="抽离样式"><a href="#抽离样式" class="header-anchor">#</a> 抽离样式</h4> <p>在上面的配置过程中将 CSS 代码整合进 JS 文件也是有弊端的，大量的 CSS 代码会造成 JS 文件的大小变大，通过操作 DOM 添加 style 也会造成性能上的问题，所以接下来我们将使用 extract-text-webpack-plugin 插件将 CSS 文件打包为一个单独文件。</p> <p>首先安装</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i --save-dev extract-text-webpack-plugin
</code></pre></div><p>然后修改 <code>webpack-config.js</code> 的配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// ...</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// 必须这样写，否则会报错</span>
        loader<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          fallback<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              modules<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 启用 CSS 模块和设置模式</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 输出的文件路径</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;css/[name].[hash].css&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>但是这时候刷新页面会发现<strong>图片的边框消失了</strong>，那是因为我们的 HTML 文件没有引用新的 CSS 文件，所以这里需要我们手动引入下。</p> <p>以上的这部分配置过程代码在 <a href="https://github.com/niexia/fe-tutorial/tree/master/demo/webpack-demo" target="_blank" rel="noopener noreferrer">webpack-demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。这个文件夹下面的每个 commit 可以对应到配置过程中文件的修改，你可以对应这个看。</p> <p>在下面我们会通过插件的方式自动引入新的文件。</p> <h2 id="如何在项目中使用"><a href="#如何在项目中使用" class="header-anchor">#</a> 如何在项目中使用</h2> <p>以 vue-cli2.x 生成的项目为例，生成的项目结构如下：</p> <div class="language- extra-class"><pre class="language-text"><code>├── README.md
├── build
│   ├── build.js
│   ├── check-versions.js
│   ├── dev-client.js
│   ├── dev-server.js
│   ├── utils.js
│   ├── webpack.base.conf.js
│   ├── webpack.dev.conf.js
│   └── webpack.prod.conf.js
├── config
│   ├── dev.env.js
│   ├── index.js
│   └── prod.env.js
├── index.html
├── package.json
├── src
│   ├── App.vue
│   ├── assets
│   │   └── logo.png
│   ├── components
│   │   └── Hello.vue
│   └── main.js
└── static
</code></pre></div><p>把默认的配置全部删除，并添加自己的 <code>webpack.config.js</code> 文件。</p> <div class="language- extra-class"><pre class="language-text"><code>├── src
│   ├── App.vue
│   ├── assets
│   │   └── logo.png
│   ├── components
│   │   └── Hello.vue
│   └── main.js
└── static
├── .babelrc
├── index.html
├── package-lock.json
├── package.json
├── webpack.config.js
</code></pre></div><p>结合前面的知识，并且为了解析 <code>.vue</code> 文件，所以还需要安装 <code>vue-loader</code> 和 <code>vue-template-complier</code>，所以初步的配置如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span>  <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    filename<span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span><span class="token punctuation">,</span> 
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
      <span class="token string">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              name<span class="token operator">:</span> <span class="token string">'images/[name].[hash].[ext]'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 请确保引入这个插件！</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>执行 <code>npm run start</code> 之后，就可以看到生成了 <code>dist/bundle.js</code> 文件。现在还需要在 <code>index.html</code> 文件先手动引入这个文件，然后再用浏览器打开 <code>index.html</code>，就可以看到熟悉的页面了。</p> <p><img src="/fe-tutorial/assets/img/webpack-config-7.d830cfec.png" alt="config-7"></p> <p>这时候你会发现这个 <code>bundle.js</code> 居然有这么大，这肯定是不能接受的，所以接下来内容的主要目的就是将单个文件拆分为多个文件，优化项目。</p> <h3 id="分离代码"><a href="#分离代码" class="header-anchor">#</a> 分离代码</h3> <p>先让我们考虑下缓存机制。<strong>对于代码中依赖的库很少会去主动升级版本</strong>，但是我们自己的代码却每时每刻都在变更，所以我们可以考虑将依赖的库和自己的代码分割开来，这样用户在下一次使用应用时<strong>就可以尽量避免重复下载没有变更的代码</strong>，那么既然要将依赖代码提取出来，我们需要变更下入口和出口的部分代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">VENDOR</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;vue-router&quot;</span>
<span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span>  <span class="token punctuation">{</span>
    <span class="token comment">// bundle 和 vendor 都是自己随便取名的，会映射到 [name] 中</span>
    bundle<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token constant">VENDOR</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    filename<span class="token operator">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span> 
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后再执行一遍，生成了两个文件了。但是，为什么 <code>bundle.js</code> 文件大小压根没变。这是因为 <code>bundle.js</code> 中也引入了依赖库的代码，刚才的步骤并没有抽取 <code>bundle.js</code> 中引入的代码，接下来让我们学习如何将共同的代码抽取出来。</p> <p><img src="/fe-tutorial/assets/img/webpack-config-8.5621f55f.png" alt="config-8"></p> <h3 id="common-chunk"><a href="#common-chunk" class="header-anchor">#</a> Common chunk</h3> <p>当多个脚本具有公共块时，可以使用 CommonsChunkPlugin 将公共部分提取到单独的文件中，这对于浏览器缓存和节省带宽很有用。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span>  <span class="token punctuation">{</span>
    <span class="token comment">// bundle 和 vendor 都是自己随便取名的，会映射到 [name] 中</span>
    bundle<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token constant">VENDOR</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token comment">// 既然我们希望缓存生效，就应该每次在更改代码以后修改文件名</span>
    <span class="token comment">// [chunkhash] 会自动根据文件是否更改而更换哈希</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].[chunkhash].js'</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 请确保引入这个插件！</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// 抽离公共代码</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// vendor 的意义和之前相同</span>
    <span class="token comment">// manifest 文件是将每次打包都会更改的东西单独提取出来，保证没有更改的代码无需重新打包，</span>
    <span class="token comment">// 这样可以加快打包速度</span>
      names<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vendor'</span><span class="token punctuation">,</span> <span class="token string">'manifest'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// 配合 manifest 文件使用</span>
      minChunks<span class="token operator">:</span> <span class="token number">Infinity</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后再执行 <code>npm run start</code>，看一下结果，正确的抽离代码了。</p> <p><img src="/fe-tutorial/assets/img/webpack-config-9.88466ffb.png" alt="config-9"></p> <h3 id="删除不需要的文件"><a href="#删除不需要的文件" class="header-anchor">#</a> 删除不需要的文件</h3> <p>但是我们使用哈希来保证缓存的同时，每次修改之后会发现每次 build 都会生成不一样的文件，这时候我们引入另一个插件来帮助我们删除不需要的文件。</p> <p><img src="data:image/png;base64,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" alt="config-10"></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev clean-webpack-plugin@0.1.19
</code></pre></div><p>然后修改配置文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>
plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// ...</span>
  <span class="token comment">// 只删除 dist 文件夹下的 bundle 和 manifest 文件</span>
  <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dist/bundle.*.js'</span><span class="token punctuation">,</span><span class="token string">'dist/manifest.*.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// 打印 log</span>
    verbose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 删除文件</span>
    dry<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre></div><p>然后再执行 <code>npm run start</code> 的时候会发现以上文件被删除了。</p> <p><img src="/fe-tutorial/assets/img/webpack-config-11.0db65203.png" alt="config-11"></p> <h3 id="自动生-html"><a href="#自动生-html" class="header-anchor">#</a> 自动生 HTML</h3> <p>因为我们现在将文件已经打包成三个 JS 了，以后也许会更多，每次新增 JS 文件我们都需要手动在 HTML 中新增标签，现在我们可以通过一个插件来自动完成这个功能。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> html-webpack-plugin --save-dev
</code></pre></div><p>然后修改配置文件：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token comment">//...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token comment">// 我们这里将之前的 HTML 文件当做模板</span>
  <span class="token comment">// 注意在之前 HTML 文件中请务必删除之前引入的 JS 文件</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token operator">:</span> <span class="token string">'index.html'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>再次执行指令之后，就会自动生成一个 <code>dist/index.html</code> 文件，并自动注入</p> <p><img src="data:image/png;base64,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" alt="config-12"></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- ... --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- built files will be auto injected --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dist/manifest.9caaa240e9ee74fd3ecd.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dist/vendor.d94305afbc99786d5695.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dist/bundle.c4ea834002d1275f2b20.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>值得注意的是，这里还需要修改路径 <code>publicPath</code>，i<code>index.html</code> 此时和生成的文件都在 <code>dist</code> 文件夹下，所以 <code>publicPath</code> 设置如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>output<span class="token operator">:</span> <span class="token punctuation">{</span>
  path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
  <span class="token comment">// 既然我们希望缓存生效，就应该每次在更改代码以后修改文件名</span>
  <span class="token comment">// [chunkhash] 会自动根据文件是否更改而更换哈希</span>
  filename<span class="token operator">:</span> <span class="token string">'[name].[chunkhash].js'</span><span class="token punctuation">,</span>
  publicPath<span class="token operator">:</span> <span class="token string">'./'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="按需加载代码"><a href="#按需加载代码" class="header-anchor">#</a> 按需加载代码</h3> <p>现在 bundle 文件包含的是全部的代码，但是像 vue、react 这样的当页面引用，用户访问首页时，我们根本不需要立即加载其他页面的代码，这个优化可以通过路由的懒加载来实现。webpack 支持两种配置，</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// router/index.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// import HelloWorld from '../components/HelloWorld'</span>
<span class="token keyword">const</span> <span class="token function-variable function">HelloWorld</span> <span class="token operator">=</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'../components/HelloWorld'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> HelloWorld
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>执行 <code>npm run start</code> 之后，HelloWorld 会被打包到一个单独的文件：</p> <p><img src="/fe-tutorial/assets/img/webpack-config-13.2cd623de.png" alt="config-13"></p> <h3 id="自动刷新"><a href="#自动刷新" class="header-anchor">#</a> 自动刷新</h3> <p class="nx-tip question">
  配置上还存在 bug，未能正确的起服务
</p> <p>每次更新代码都需要执行依次 build，并且还要等上一会很麻烦，这一小节介绍如何使用自动刷新的功能。可以通过 <code>webpack-dev-server</code> 起一个本地服务。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i --save-dev webpack-dev-server@2.9.1
</code></pre></div><p>然后修改 <code>package.json</code> 文件：</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;scripts&quot;: {
  &quot;dev&quot;: &quot;webpack-dev-server --open&quot;
  &quot;build&quot;: &quot;webpack&quot;,
},
</code></pre></div><p>现在直接执行 <code>npm run dev</code> 可以发现浏览器自动打开了一个空的页面，并且在命令行中也多了新的输出。</p> <p>等待编译完成以后，修改 JS 或者 CSS 文件，可以发现 webpack 自动帮我们完成了编译，并且只更新了需要更新的代码。</p> <p>现在我们可以将之前所学和一些新加的插件整合在一起，build 生产环境代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> OptimizeCSSPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'optimize-css-assets-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;extract-text-webpack-plugin&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token constant">VENDOR</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&quot;vue&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;vue-router&quot;</span>
<span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span>  <span class="token punctuation">{</span>
    <span class="token comment">// bundle 和 vendor 都是自己随便取名的，会映射到 [name] 中</span>
    bundle<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token constant">VENDOR</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token comment">// 既然我们希望缓存生效，就应该每次在更改代码以后修改文件名</span>
    <span class="token comment">// [chunkhash] 会自动根据文件是否更改而更换哈希</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].[chunkhash].js'</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> <span class="token string">'./'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
      <span class="token string">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 本地服务器所加载的页面所在的目录</span>
    historyApiFallback<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不跳转</span>
    inline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 实时刷新</span>
    port<span class="token operator">:</span> <span class="token number">8088</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              name<span class="token operator">:</span> <span class="token string">'images/[name].[hash].[ext]'</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          fallback<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              modules<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 请确保引入这个插件！</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// 抽离公共代码</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// vendor 的意义和之前相同</span>
    <span class="token comment">// manifest 文件是将每次打包都会更改的东西单独提取出来，保证没有更改的代码无需重新打包，</span>
    <span class="token comment">// 这样可以加快打包速度</span>
      names<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vendor'</span><span class="token punctuation">,</span> <span class="token string">'manifest'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// 配合 manifest 文件使用</span>
      minChunks<span class="token operator">:</span> <span class="token number">Infinity</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// 只删除 dist 文件夹下的 bundle 和 manifest 文件</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dist/bundle.*.js'</span><span class="token punctuation">,</span><span class="token string">'dist/manifest.*.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// 打印 log</span>
      verbose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// 删除文件</span>
      dry<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// 我们这里将之前的 HTML 文件当做模板</span>
    <span class="token comment">// 注意在之前 HTML 文件中请务必删除之前引入的 JS 文件</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token operator">:</span> <span class="token string">'index.html'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// 分离 CSS 代码</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">&quot;css/[name].[contenthash].css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 压缩提取出的 CSS，并解决 ExtractTextPlugin 分离出的 JS 重复问题</span>
    <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      cssProcessorOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        safe<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// 压缩 JS 代码</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      compress<span class="token operator">:</span> <span class="token punctuation">{</span>
        warnings<span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// 生成全局变量</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">&quot;process.env.NODE_ENV&quot;</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&quot;process.env.NODE_ENV&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://www.jianshu.com/p/42e11515c10f" target="_blank" rel="noopener noreferrer">入门Webpack，看这篇就够了<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/59bb37fa6fb9a00a554f89d2#heading-8" target="_blank" rel="noopener noreferrer">webpack：从入门到真实项目配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/niexia/fe-tutorial/edit/master/fee/webpack/从入门到真实项目配置.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">7/11/2021, 2:09:27 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/fe-tutorial/assets/js/app.bde7a860.js" defer></script><script src="/fe-tutorial/assets/js/2.ae25ac57.js" defer></script><script src="/fe-tutorial/assets/js/4.88d50aeb.js" defer></script><script src="/fe-tutorial/assets/js/24.ad82ced8.js" defer></script>
  </body>
</html>
