<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>跳表 | fe-tutorial</title>
    <meta name="description" content="前端学习笔记">
    <link rel="icon" href="/fe-tutorial/favicon.ico">
    
    <link rel="preload" href="/fe-tutorial/assets/css/0.styles.d95e4697.css" as="style"><link rel="preload" href="/fe-tutorial/assets/js/app.543b8577.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/2.9b3345fe.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/9.2ddb0259.js" as="script"><link rel="prefetch" href="/fe-tutorial/assets/js/10.723f5f67.js"><link rel="prefetch" href="/fe-tutorial/assets/js/11.49fa0c43.js"><link rel="prefetch" href="/fe-tutorial/assets/js/12.fd432713.js"><link rel="prefetch" href="/fe-tutorial/assets/js/13.d0e78940.js"><link rel="prefetch" href="/fe-tutorial/assets/js/14.525140fb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/15.70eca4b3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/16.42489512.js"><link rel="prefetch" href="/fe-tutorial/assets/js/17.36973dd6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/18.b5200278.js"><link rel="prefetch" href="/fe-tutorial/assets/js/19.cbbeaa24.js"><link rel="prefetch" href="/fe-tutorial/assets/js/20.e6890c41.js"><link rel="prefetch" href="/fe-tutorial/assets/js/21.5b822627.js"><link rel="prefetch" href="/fe-tutorial/assets/js/22.f96b97dd.js"><link rel="prefetch" href="/fe-tutorial/assets/js/23.bd0c9df4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/24.dced6486.js"><link rel="prefetch" href="/fe-tutorial/assets/js/25.0d195834.js"><link rel="prefetch" href="/fe-tutorial/assets/js/26.d4ebda1a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/27.e55fcfd2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/28.6c7589bb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/29.ab5e9c20.js"><link rel="prefetch" href="/fe-tutorial/assets/js/3.f5841e8a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/30.171f4d28.js"><link rel="prefetch" href="/fe-tutorial/assets/js/31.01417dc4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/32.0efbfbb9.js"><link rel="prefetch" href="/fe-tutorial/assets/js/33.9634aee8.js"><link rel="prefetch" href="/fe-tutorial/assets/js/34.0b8763f8.js"><link rel="prefetch" href="/fe-tutorial/assets/js/35.97be856a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/36.b241809e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/37.f2c2632e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/38.e174c07f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/39.bdc0f4cd.js"><link rel="prefetch" href="/fe-tutorial/assets/js/4.ef22da56.js"><link rel="prefetch" href="/fe-tutorial/assets/js/40.053626ac.js"><link rel="prefetch" href="/fe-tutorial/assets/js/41.ec129698.js"><link rel="prefetch" href="/fe-tutorial/assets/js/42.4c4cb10a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/43.4b624a09.js"><link rel="prefetch" href="/fe-tutorial/assets/js/44.4aa8411b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/45.37beebd2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/46.640027b0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/47.75b6dbd2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/48.03311ce2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/49.420e3429.js"><link rel="prefetch" href="/fe-tutorial/assets/js/5.c717640f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/50.ef86af47.js"><link rel="prefetch" href="/fe-tutorial/assets/js/51.49949bab.js"><link rel="prefetch" href="/fe-tutorial/assets/js/52.99453c8f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/53.2a67d7c1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/54.0a409de1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/55.33c2223b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/56.0dd27231.js"><link rel="prefetch" href="/fe-tutorial/assets/js/57.0197d5e1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/58.9d671ec7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/59.b55734ab.js"><link rel="prefetch" href="/fe-tutorial/assets/js/6.6ec1b109.js"><link rel="prefetch" href="/fe-tutorial/assets/js/60.4ee6cb7e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/61.3ad47b95.js"><link rel="prefetch" href="/fe-tutorial/assets/js/62.4d094156.js"><link rel="prefetch" href="/fe-tutorial/assets/js/63.6ddebfde.js"><link rel="prefetch" href="/fe-tutorial/assets/js/64.3dd969b8.js"><link rel="prefetch" href="/fe-tutorial/assets/js/65.696a93f5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/66.6c1dbc73.js"><link rel="prefetch" href="/fe-tutorial/assets/js/67.df7fa7e3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/68.97ff5a3c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/69.770a9bec.js"><link rel="prefetch" href="/fe-tutorial/assets/js/7.eab21b1c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/70.556f2b61.js"><link rel="prefetch" href="/fe-tutorial/assets/js/71.b5b7490d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/72.3ec804ad.js"><link rel="prefetch" href="/fe-tutorial/assets/js/73.83dbd5c5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/74.82cc556b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/75.c37d9196.js"><link rel="prefetch" href="/fe-tutorial/assets/js/76.1a7823bb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/77.113bd0d7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/78.400bdaae.js"><link rel="prefetch" href="/fe-tutorial/assets/js/79.459a01d7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/8.7e8fd415.js"><link rel="prefetch" href="/fe-tutorial/assets/js/80.667891a8.js"><link rel="prefetch" href="/fe-tutorial/assets/js/81.975d0365.js"><link rel="prefetch" href="/fe-tutorial/assets/js/82.f96457f5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/83.d5927169.js"><link rel="prefetch" href="/fe-tutorial/assets/js/84.d89f927d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/85.1e0d52e2.js">
    <link rel="stylesheet" href="/fe-tutorial/assets/css/0.styles.d95e4697.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-tutorial/" class="home-link router-link-active"><!----> <span class="site-name">fe-tutorial</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link router-link-active">数据结构和算法</a></div><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/fe-tutorial/webpack/" class="nav-link">Webpack</a></div><div class="nav-item"><a href="https://niexias.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/niexias" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link router-link-active">数据结构和算法</a></div><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/fe-tutorial/webpack/" class="nav-link">Webpack</a></div><div class="nav-item"><a href="https://niexias.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/niexias" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据结构和算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/" class="sidebar-link">介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数组</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/数组/数组.html" class="sidebar-link">数组</a></li><li><a href="/fe-tutorial/algo/数组/练习.html" class="sidebar-link">练习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>链表</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/链表/链表.html" class="sidebar-link">链表</a></li><li><a href="/fe-tutorial/algo/链表/手写链表的技巧.html" class="sidebar-link">手写链表的技巧</a></li><li><a href="/fe-tutorial/algo/链表/练习.html" class="sidebar-link">练习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>栈</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/栈/栈.html" class="sidebar-link">栈</a></li><li><a href="/fe-tutorial/algo/栈/练习.html" class="sidebar-link">练习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>队列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/队列/队列.html" class="sidebar-link">队列</a></li><li><a href="/fe-tutorial/algo/队列/练习.html" class="sidebar-link">练习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>递归</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/递归/递归.html" class="sidebar-link">理解递归</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>排序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/排序/排序.html" class="sidebar-link">排序算法介绍</a></li><li><a href="/fe-tutorial/algo/排序/冒泡、插入和选择排序.html" class="sidebar-link">冒泡、插入和选择排序</a></li><li><a href="/fe-tutorial/algo/排序/归并排序和快速排序.html" class="sidebar-link">归并排序和快速排序</a></li><li><a href="/fe-tutorial/algo/排序/桶排序、计数排序和基数排序.html" class="sidebar-link">桶排序、计数排序和基数排序</a></li><li><a href="/fe-tutorial/algo/排序/排序优化.html" class="sidebar-link">排序优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>二分查找</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/二分查找/二分查找.html" class="sidebar-link">二分查找</a></li><li><a href="/fe-tutorial/algo/二分查找/二分查找的变形.html" class="sidebar-link">二分查找的变形</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>跳表</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/跳表/跳表.html" class="active sidebar-link">跳表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#理解跳表" class="sidebar-link">理解跳表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#时间复杂度" class="sidebar-link">时间复杂度</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#空间复杂度" class="sidebar-link">空间复杂度</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#高效的插入和删除" class="sidebar-link">高效的插入和删除</a></li></ul></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#跳表的动态性" class="sidebar-link">跳表的动态性</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#总结" class="sidebar-link">总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#解答开篇" class="sidebar-link">解答开篇</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/跳表/跳表.html#小结" class="sidebar-link">小结</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>散列表</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/散列表/散列表.html" class="sidebar-link">散列表</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>哈希算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/哈希算法/哈希算法.html" class="sidebar-link">哈希算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>二叉树</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/二叉树/二叉树.html" class="sidebar-link">二叉树</a></li><li><a href="/fe-tutorial/algo/二叉树/二叉查找树.html" class="sidebar-link">二叉查找树</a></li><li><a href="/fe-tutorial/algo/二叉树/红黑树.html" class="sidebar-link">红黑树</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>堆</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/堆/堆和堆排序.html" class="sidebar-link">堆</a></li><li><a href="/fe-tutorial/algo/堆/堆的应用.html" class="sidebar-link">堆的应用</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>图</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/图/图.html" class="sidebar-link">图</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>字符串匹配</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/字符串匹配/BF算法和RK算法.html" class="sidebar-link">BF 算法和 RK 算法</a></li><li><a href="/fe-tutorial/algo/字符串匹配/BM算法.html" class="sidebar-link">/algo/字符串匹配/BM算法.html</a></li><li><a href="/fe-tutorial/algo/字符串匹配/KMP算法.html" class="sidebar-link">/algo/字符串匹配/KMP算法.html</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Tire树</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/Tire树/Tire树.html" class="sidebar-link">Tire 树</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>贪心算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/贪心算法/贪心算法.html" class="sidebar-link">贪心算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>分治算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/分治算法/分治算法.html" class="sidebar-link">分治算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>回溯算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/回溯算法/回溯算法.html" class="sidebar-link">回溯算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>动态规划</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/动态规划/动态规划.html" class="sidebar-link">动态规划</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="跳表"><a href="#跳表" class="header-anchor">#</a> 跳表</h1> <p>跳表是一种各方面性能都比较优秀的动态数据结构，可以支持快速的插入、删除和查找操作。在二分查找的时候，说到它不能使用链表，实际上，将它改造为跳表，就可以支持类似“二分”的查找算法。</p> <p>Redis 中的有序集合（Sorted Set）就是用跳表来实现的。如果你有一定基础，应该知道红黑树也可以实现快速的插入、删除和查找操作。那 Redis 为什么会选择用跳表来实现有序集合呢？ 为什么不用红黑树呢？</p> <h2 id="理解跳表"><a href="#理解跳表" class="header-anchor">#</a> 理解跳表</h2> <p>对于单链表来说，即便存储的数据是有序的，也只能通过遍历来查找某个数据。查找的时间复杂度为 O(n)，效率并不高。</p> <p><img src="data:image/png;base64,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" alt="skipList-linked"></p> <p>单链表查询慢是因为需要从头遍历，那么对链表建立一级<strong>索引</strong>，查找就会快起来。这里每两个结点取一个到上一级，把抽出来的这一级叫作<strong>索引</strong>或者<strong>索引层</strong>。其中，down 表示 down 指针，指向下一级结点。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-skipList-oneLay.a2fb9640.png" alt="skipList-oneLay"></p> <p>如果我们要查找值为 14 这个结点，通过单链表，<strong>需要遍历 10 个结点</strong>。</p> <p>而使用了跳表之后，可以现在索引层遍历，当遍历到值为 13 的这个结点时，我们发现下一个结点值为 15，所以 14 肯定在这两个结点之间。通过 down 指针，下降到原始数据这一层，继续遍历，这个时候只需要遍历 2 个结点，就找到值为 14 的结点了。<strong>总共遍历 7 个结点</strong>。</p> <p>也就说，<strong>加了一层索引层之后，查找一个结点需要遍历的结点少了，效率提高了</strong>。</p> <p>跟前面类似，可以依次在索引上继续增加索引层。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-skipList-twoLays.3b958037.png" alt="skipList-twoLays"></p> <p>加了第二级所以之后，现在只<strong>需要遍历 6 个结点</strong>。</p> <p>这里数据量不大，所以提升的效率不是很明显。当链表的长度为 100、1000 等，通过构建索引，查询效率会得到极大的提升。</p> <p><strong>这种链表加多级索引的结构，就是跳表。</strong></p> <p><img src="/fe-tutorial/assets/img/dataStructure-skipList-threeLays.9dfb55bf.png" alt="skipList-threeLays"></p> <h3 id="时间复杂度"><a href="#时间复杂度" class="header-anchor">#</a> 时间复杂度</h3> <p>通过添加索引层，可以提高查询的效率。下面算一下跳表的时间复杂度。</p> <p>上面简历索引是每 2 个结点抽出一个作为上一级的索引结点。所以有：</p> <div class="language- extra-class"><pre class="language-text"><code>// 第一级索引的结点个数大约
n/2

// 第二级索引的结点个数大约
n/4

// 第三级索引的结点个数大约
n/8
...
// 第k级索引的结点个数大约
n/2^k
...
</code></pre></div><p>现在总共有 h 级索引，而<strong>最高级索引有 2 个结点</strong>。那么就有 n/2^h = 2，h = log2n - 1。如果包含原始数据这层，<strong>整个跳表的高度就是 log2n</strong>。</p> <p>现在查找某个数据，如果每层需要遍历 m 个结点，那么跳表查询一个数据的时间复杂度就是 O(m * log2n)，即 O(m * logn)。</p> <p>现在只需要知道 m 是多少就可以知道时间复杂度了。</p> <p>跳表的某一级索引都是在下一级的每 2 个结点抽出一个结点组成的。所以当我们从 k 级降到 k-1 级，<strong>在 k-1 级最多遍历不会超过 3 个结点</strong>。得到 m = 3。</p> <p>最后就得到<strong>跳表的时间复杂度就是 O(logn)</strong>。非常高效，时间复杂度和二分查找一样，也就是说基于单链表实现了二分查找。</p> <h3 id="空间复杂度"><a href="#空间复杂度" class="header-anchor">#</a> 空间复杂度</h3> <p>跳表是通过建立索引来提升效率，以空间换时间。分析以下它的空间复杂度。</p> <p>原始链表长度为 n，每 2 个节点抽 1 个，那么第一级索引大约需要 n/2 个结点，第二级大约需要 n/4 个结点，...，最高一级需要 2 个结点。所以每一级需要的节点如下：</p> <div class="language- extra-class"><pre class="language-text"><code>n/2, n/4, n/8, ..., 8, 4, 2
</code></pre></div><p>这是一个等比数列，根据等比数列的求和公式：</p> <p><img src="data:image/png;base64,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" alt="math"></p> <p>可以求得需要的总结点数为 Sn = n - 2，所以<strong>跳表的空间复杂度是 O(n)</strong>。</p> <p>上面都是每 2 个结点抽一个到上级作为索引，那如果每 3 个或者每 5 个呢？</p> <p><strong>以每 3 个结点抽一个再分析一遍</strong>：</p> <ol><li>的时间复杂度</li></ol> <div class="language- extra-class"><pre class="language-text"><code>n/3, n/9, ..., n/3^k, ...
</code></pre></div><p>总共有 h 级，那么 n/3^h = 3，h = log3n - 1，每一级最多遍历 4 个结点所以时间复杂度为 O(4*(log3n-1))，即 O(logn)。</p> <ol start="2"><li>空间复杂度</li></ol> <div class="language- extra-class"><pre class="language-text"><code>n/3, n/9, ..., 9, 3, 1
</code></pre></div><p>根据等比数列的求和 Sn = n/2。尽管空间复杂度还是 O(n)，但比上面的每两个结点抽一个结点的索引构建方法，要减少了一半的索引结点存储空间。</p> <p>实际上，在软件开发中，我们不必太在意索引占用的额外空间。在讲数据结构和算法时，习惯性地把要处理的数据看成整数，但是在实际的软件开发中，原始链表中存储的有可能是很大的对象，而索引结点只需要存储关键值和几个指针，并不需要存储对象，<strong>所以当对象比索引结点大很多时，那索引占用的额外空间就可以忽略了</strong>。</p> <h3 id="高效的插入和删除"><a href="#高效的插入和删除" class="header-anchor">#</a> 高效的插入和删除</h3> <p>跳表是个动态的数据结构，不仅支持查询，还支持动态的插入和删除。而且插入和删除的复杂度也是 O(logn)。</p> <p>单链表的插入和删除操作复杂度都是 O(1)，而跳表的查找某个结点时间复杂度是 O(logn)，现在要查找某个数据应该插入和删除的位置，要找到前驱结点，方法也类似，所以时间复杂度是 O(logn)。</p> <p>值得注意的时，删除某个结点时，如果这个节点也存在于索引中，那么还要将索引中的结点删除。</p> <h2 id="跳表的动态性"><a href="#跳表的动态性" class="header-anchor">#</a> 跳表的动态性</h2> <p>当我们不停的向跳表中插入数据，如果不更新索引，就可能出现 2 个索引节点之间的数据非常多的情况。极端情况下，跳表还会退化为单链表。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-skipList-multipleInsert.8bd65d37.png" alt="multipleInsert"></p> <p>为了避免退化，保持索引和原始链表大小之间的平衡，那么链表结点增加了，索引结点也需要增加。</p> <p><strong>跳表是通过随机函数来维护这个平衡的</strong>。通过一个随机函数，来决定将这个结点插入到哪几级索引。比如，<strong>随机生成函数生成 k，那么就将节点插入 1~k 级这 k 级索引中</strong>。</p> <p>随机函数，从概率上保证跳表的索引和数据的大小平衡。</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <h3 id="解答开篇"><a href="#解答开篇" class="header-anchor">#</a> 解答开篇</h3> <p>先解答开篇，Redis 为什么会选择用跳表来实现有序集合呢？</p> <p>Redis 中的有序集合是通过跳表来实现的，严格点讲，其实还用到了散列表。我们知道Redis 中的有序集合支持的核心操作主要有下面这几个：</p> <ul><li>插入一个数据；</li> <li>删除一个数据；</li> <li>查找一个数据；</li> <li>按照区间查找数据（比如查找值在 [100, 356] 之间的数据）；</li> <li>迭代输出有序序列。</li></ul> <p>其中，插入、删除、查找以及迭代输出有序序列这几个操作，红黑树也可以完成，时间复杂度跟跳表是一样的。<strong>但是，按照区间来查找数据这个操作，红黑树的效率没有跳表高</strong>。</p> <p>对于按照区间查找数据这个操作，<strong>跳表可以做到 O(logn) 的时间复杂度定位区间的起点，然后在原始链表中顺序往后遍历就可以了</strong>。这样做非常高效。</p> <p>当然，Redis 之所以用跳表来实现有序集合，还有其他原因，比如，跳表更容易代码实现。虽然跳表的实现也不简单，但比起红黑树来说还是好懂、好写多了，而简单就意味着可读性好，不容易出错。</p> <p>还有，跳表更加灵活，它可以通过改变索引构建策略，有效平衡执行效率和内存消耗。</p> <h3 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h3> <p>跳表这种数据结构使用的是空间换时间的思路，通过构建多级索引来提高查询效率，实现了基于链表的“二分查找”（时间复杂度是 O(logn)）。</p> <p>跳表是一种动态的数据结构，支持快速插入、删除和查找操作，<strong>时间复杂度都是 O(logn)</strong>。</p> <p>跳表作为一种数据结构，它需要额外的存储空间来存储索引层，<strong>空间复杂度是 O(n)</strong>。不过，跳表的实现非常灵活，可以通过改变索引构建策略，有效平衡执行效率和内存消耗。</p> <p>虽然跳表的代码实现并不简单，但是作为一种动态数据结构，比起红黑树来说，实现要简单多了。所以很多时候，我们为了代码的简单、易读，比起红黑树，倾向用跳表。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/1/2019, 3:52:43 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fe-tutorial/algo/二分查找/二分查找的变形.html" class="prev">二分查找的变形</a></span> <span class="next"><a href="/fe-tutorial/algo/散列表/散列表.html">散列表</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fe-tutorial/assets/js/app.543b8577.js" defer></script><script src="/fe-tutorial/assets/js/2.9b3345fe.js" defer></script><script src="/fe-tutorial/assets/js/9.2ddb0259.js" defer></script>
  </body>
</html>
