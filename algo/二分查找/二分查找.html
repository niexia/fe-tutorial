<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>二分查找 | fe-tutorial</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/fe-tutorial/favicon.ico">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-163994034-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-163994034-1');
      </script>
    <meta name="description" content="前端学习笔记">
    
    <link rel="preload" href="/fe-tutorial/assets/css/0.styles.1a1809c8.css" as="style"><link rel="preload" href="/fe-tutorial/assets/js/app.bde7a860.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/2.ae25ac57.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/58.17b55089.js" as="script"><link rel="prefetch" href="/fe-tutorial/assets/js/10.525a81ed.js"><link rel="prefetch" href="/fe-tutorial/assets/js/100.f6602289.js"><link rel="prefetch" href="/fe-tutorial/assets/js/11.25544251.js"><link rel="prefetch" href="/fe-tutorial/assets/js/12.1090c0b3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/13.401309e1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/14.9b6e0d73.js"><link rel="prefetch" href="/fe-tutorial/assets/js/15.3e7e5eea.js"><link rel="prefetch" href="/fe-tutorial/assets/js/16.4e3ca28b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/17.234e5681.js"><link rel="prefetch" href="/fe-tutorial/assets/js/18.e9b292c2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/19.6f6dc26e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/20.456acb11.js"><link rel="prefetch" href="/fe-tutorial/assets/js/21.2528cd2d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/22.9ccec86b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/23.a8fb0f59.js"><link rel="prefetch" href="/fe-tutorial/assets/js/24.ad82ced8.js"><link rel="prefetch" href="/fe-tutorial/assets/js/25.9df5ece6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/26.7e6047cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/27.3a93e0ca.js"><link rel="prefetch" href="/fe-tutorial/assets/js/28.db0473da.js"><link rel="prefetch" href="/fe-tutorial/assets/js/29.a34447d9.js"><link rel="prefetch" href="/fe-tutorial/assets/js/3.8ff30ab3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/30.9a2865d0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/31.6a5c3f52.js"><link rel="prefetch" href="/fe-tutorial/assets/js/32.77b98555.js"><link rel="prefetch" href="/fe-tutorial/assets/js/33.e4d3920d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/34.a0158bbc.js"><link rel="prefetch" href="/fe-tutorial/assets/js/35.c6052b1c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/36.7fe42190.js"><link rel="prefetch" href="/fe-tutorial/assets/js/37.9be40d3d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/38.92039ee3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/39.78a07463.js"><link rel="prefetch" href="/fe-tutorial/assets/js/4.88d50aeb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/40.b82feb49.js"><link rel="prefetch" href="/fe-tutorial/assets/js/41.49ee1545.js"><link rel="prefetch" href="/fe-tutorial/assets/js/42.2bb4faf1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/43.822f1bc1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/44.ba14cd38.js"><link rel="prefetch" href="/fe-tutorial/assets/js/45.a61d7c83.js"><link rel="prefetch" href="/fe-tutorial/assets/js/46.49d82fe1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/47.20ad918b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/48.81b6262a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/49.5c079724.js"><link rel="prefetch" href="/fe-tutorial/assets/js/5.a826b837.js"><link rel="prefetch" href="/fe-tutorial/assets/js/50.f2fd87c7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/51.d6e2154b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/52.dfe4d3c3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/53.d3c20efa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/54.910d49fe.js"><link rel="prefetch" href="/fe-tutorial/assets/js/55.8851f3b0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/56.3d9a4a43.js"><link rel="prefetch" href="/fe-tutorial/assets/js/57.cda9bad5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/59.2d1c9114.js"><link rel="prefetch" href="/fe-tutorial/assets/js/6.0e5284b6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/60.c9abe2e7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/61.6972f1cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/62.d54550b7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/63.0c073df1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/64.10b87731.js"><link rel="prefetch" href="/fe-tutorial/assets/js/65.74bf2dfa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/66.f1236341.js"><link rel="prefetch" href="/fe-tutorial/assets/js/67.ba9a5e98.js"><link rel="prefetch" href="/fe-tutorial/assets/js/68.da228f4e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/69.1ec74af0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/7.e0107206.js"><link rel="prefetch" href="/fe-tutorial/assets/js/70.c47676e5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/71.edcc3be0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/72.556f5bf4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/73.1bbdc79c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/74.1b282d27.js"><link rel="prefetch" href="/fe-tutorial/assets/js/75.caf4594f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/76.75346e61.js"><link rel="prefetch" href="/fe-tutorial/assets/js/77.8453aeef.js"><link rel="prefetch" href="/fe-tutorial/assets/js/78.19c51d2c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/79.641b47b0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/8.bfbcfd20.js"><link rel="prefetch" href="/fe-tutorial/assets/js/80.ede0dd2a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/81.f1cdbde7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/82.5339adeb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/83.ff46804c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/84.23ee0534.js"><link rel="prefetch" href="/fe-tutorial/assets/js/85.e4d79f1a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/86.52e73c0a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/87.8c849f61.js"><link rel="prefetch" href="/fe-tutorial/assets/js/88.b848efcb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/89.e1518065.js"><link rel="prefetch" href="/fe-tutorial/assets/js/9.8eb689ae.js"><link rel="prefetch" href="/fe-tutorial/assets/js/90.870983d3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/91.55e00200.js"><link rel="prefetch" href="/fe-tutorial/assets/js/92.c71e4b31.js"><link rel="prefetch" href="/fe-tutorial/assets/js/93.f8e39aec.js"><link rel="prefetch" href="/fe-tutorial/assets/js/94.584b61c6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/95.c08c3238.js"><link rel="prefetch" href="/fe-tutorial/assets/js/96.cee817ce.js"><link rel="prefetch" href="/fe-tutorial/assets/js/97.4f4a9caa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/98.b78c0a67.js"><link rel="prefetch" href="/fe-tutorial/assets/js/99.64fb0d9b.js">
    <link rel="stylesheet" href="/fe-tutorial/assets/css/0.styles.1a1809c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-tutorial/" class="home-link router-link-active"><!----> <span class="site-name">fe-tutorial</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link router-link-active">
  数据结构和算法
</a></div><div class="nav-item"><a href="/fe-tutorial/network/" class="nav-link">
  网络协议
</a></div><div class="nav-item"><a href="/fe-tutorial/fee/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/niexia/fe-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link router-link-active">
  数据结构和算法
</a></div><div class="nav-item"><a href="/fe-tutorial/network/" class="nav-link">
  网络协议
</a></div><div class="nav-item"><a href="/fe-tutorial/fee/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/niexia/fe-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>数据结构和算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/fe-tutorial/algo/数组/数组.html" class="sidebar-link">数组</a></li><li><a href="/fe-tutorial/algo/链表/链表.html" class="sidebar-link">链表</a></li><li><a href="/fe-tutorial/algo/链表/手写链表的技巧.html" class="sidebar-link">手写链表的技巧</a></li><li><a href="/fe-tutorial/algo/栈/栈.html" class="sidebar-link">栈</a></li><li><a href="/fe-tutorial/algo/递归/递归.html" class="sidebar-link">递归</a></li><li><a href="/fe-tutorial/algo/排序/排序.html" class="sidebar-link">排序算法介绍</a></li><li><a href="/fe-tutorial/algo/排序/冒泡、插入和选择排序.html" class="sidebar-link">冒泡、插入和选择排序</a></li><li><a href="/fe-tutorial/algo/排序/归并排序和快速排序.html" class="sidebar-link">归并排序和快速排序</a></li><li><a href="/fe-tutorial/algo/排序/桶排序、计数排序和基数排序.html" class="sidebar-link">桶排序、计数排序和基数排序</a></li><li><a href="/fe-tutorial/algo/排序/排序优化.html" class="sidebar-link">排序优化</a></li><li><a href="/fe-tutorial/algo/二分查找/二分查找.html" class="active sidebar-link">二分查找</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/二分查找/二分查找.html#二分查找的核心思想" class="sidebar-link">二分查找的核心思想</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/二分查找/二分查找.html#极快的查找速度" class="sidebar-link">极快的查找速度</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/二分查找/二分查找.html#实现二分查找" class="sidebar-link">实现二分查找</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/二分查找/二分查找.html#最简单的二分查找" class="sidebar-link">最简单的二分查找</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/二分查找/二分查找.html#二分查找的局限性" class="sidebar-link">二分查找的局限性</a></li></ul></li></ul></li><li><a href="/fe-tutorial/algo/二分查找/二分查找的变形.html" class="sidebar-link">二分查找的变形</a></li><li><a href="/fe-tutorial/algo/跳表/跳表.html" class="sidebar-link">跳表</a></li><li><a href="/fe-tutorial/algo/散列表/散列表.html" class="sidebar-link">散列表</a></li><li><a href="/fe-tutorial/algo/哈希算法/哈希算法.html" class="sidebar-link">哈希算法</a></li><li><a href="/fe-tutorial/algo/二叉树/二叉树.html" class="sidebar-link">二叉树</a></li><li><a href="/fe-tutorial/algo/二叉树/二叉查找树.html" class="sidebar-link">二叉查找树</a></li><li><a href="/fe-tutorial/algo/二叉树/红黑树.html" class="sidebar-link">红黑树</a></li><li><a href="/fe-tutorial/algo/堆/堆和堆排序.html" class="sidebar-link">堆</a></li><li><a href="/fe-tutorial/algo/堆/堆的应用.html" class="sidebar-link">堆的应用</a></li><li><a href="/fe-tutorial/algo/图/图.html" class="sidebar-link">图</a></li><li><a href="/fe-tutorial/algo/图/深度和广度优先搜索.html" class="sidebar-link">深度优先和广度优先搜索</a></li><li><a href="/fe-tutorial/algo/字符串匹配/BF算法和RK算法.html" class="sidebar-link">BF 算法和 RK 算法</a></li><li><a href="/fe-tutorial/algo/字符串匹配/BM算法.html" class="sidebar-link">/algo/字符串匹配/BM算法.html</a></li><li><a href="/fe-tutorial/algo/字符串匹配/KMP算法.html" class="sidebar-link">/algo/字符串匹配/KMP算法.html</a></li><li><a href="/fe-tutorial/algo/Tire树/Tire树.html" class="sidebar-link">Tire 树</a></li><li><a href="/fe-tutorial/algo/贪心算法/贪心算法.html" class="sidebar-link">贪心算法</a></li><li><a href="/fe-tutorial/algo/分治算法/分治算法.html" class="sidebar-link">分治算法</a></li><li><a href="/fe-tutorial/algo/回溯算法/回溯算法.html" class="sidebar-link">回溯算法</a></li><li><a href="/fe-tutorial/algo/动态规划/动态规划.html" class="sidebar-link">动态规划</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>LeetCode</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/leetcode/说明.html" class="sidebar-link">说明</a></li><li><a href="/fe-tutorial/algo/leetcode/数组.html" class="sidebar-link">数组</a></li><li><a href="/fe-tutorial/algo/leetcode/链表.html" class="sidebar-link">链表</a></li><li><a href="/fe-tutorial/algo/leetcode/队列.html" class="sidebar-link">队列</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="二分查找"><a href="#二分查找" class="header-anchor">#</a> 二分查找</h1> <p>二分查找算法也叫折半查找算法。</p> <p>猜字游戏都应该玩过，随机写一个 0 到 99 之间的数字，然后猜一下是什么？猜的过程中，每猜一次会告诉你大了还是小了，知道猜中为止。如何快速猜中写的数字？</p> <p>通过二分查找，最多 7 次就可以猜中。</p> <h2 id="二分查找的核心思想"><a href="#二分查找的核心思想" class="header-anchor">#</a> 二分查找的核心思想</h2> <p>二分查找针对的是一个<strong>有序的数据集合</strong>，查找思想类似分支思想。每次都通过跟区间的中间元素对比，将待查找的区间缩小为之前的一半，直到找到要查找的元素，或者区间被缩小为 0。</p> <h2 id="极快的查找速度"><a href="#极快的查找速度" class="header-anchor">#</a> 极快的查找速度</h2> <p>二分查找每次将数据范围缩小为原来的一半，现在假设数据量大小为 n，最坏情况下，知道查找区间被缩小为空，才停止：</p> <div class="language- extra-class"><pre class="language-text"><code>// 查找区间的变化
n，n/2，n/4，...，n/2^k，...
</code></pre></div><p>当 n/2^k = 1 时，就是最后一次查找，此时 k 的值就是查找的次数。时间复杂度为 O(k)，而 k = log2n，所以时间复杂度就是 O(logn)。这是一个<strong>对数时间复杂度</strong>，它极其高效。</p> <p>比如，n 等于 2^32，如果在这么多的数据中用二分查找一个数据，最多需要比较 32 次。</p> <p>用大 O 表示法的时候，省略了常数、系数和低阶。所以对于一个常量级的算法来说，O(1) 可能是一个非常大的常量值，比如 O(100)、O(1000)，这个时候，它们可能还没有 O(logn) 执行效率高。</p> <h2 id="实现二分查找"><a href="#实现二分查找" class="header-anchor">#</a> 实现二分查找</h2> <p>二分查找其实也有好几种，先写一个<strong>简单</strong>的二分查找。</p> <h3 id="最简单的二分查找"><a href="#最简单的二分查找" class="header-anchor">#</a> 最简单的二分查找</h3> <p>最简单的情况就是<strong>有序数组中不存在重复的元素</strong>，用二分查找值等于给定值的元素。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> high <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> mid <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">===</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> mid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>容易出错的 3 个地方</strong>：</p> <ol><li>循环的退出条件</li></ol> <p>注意是 <code>low &lt;= high</code>，而不是 <code>low &lt; high</code>。</p> <ol start="2"><li>mid 的取值</li></ol> <p>实际上，<code>mid = (low + high) / 2</code> 可能会溢出，因为如果 low 和 hight 都比较大的话，两者之和就可能溢出，改进方法是写成 <code>low + (high - low) / 2</code>。或者更追求性能的话，可以写成位运算 <code>low + ((high - low) &gt;&gt; 1)</code>。</p> <ol start="3"><li>low 和 high 的更新</li></ol> <p><code>low = mid + 1</code>，<code>high = mid - 1</code>。这一这里需要 +1 和 -1，而不能直接写成 <code>low = mid</code> 和 <code>high = mid</code>，否则可能会造成死循环。比如 <code>high = 3</code>，<code>low = 3</code>，如果 <code>arr[3]</code> 不等于 <code>target</code> 就会死循环了。</p> <h3 id="二分查找的局限性"><a href="#二分查找的局限性" class="header-anchor">#</a> 二分查找的局限性</h3> <p>虽然二分查找效率很高，但是应用场景有很多的局限性。</p> <p><strong>1. 依赖数组这种顺序表结构</strong></p> <p>二分查找需要按照下标随机访问元素，数组按照下标随机访问数据的时间复杂度是 O(1)。它不能依赖于其它数据结构，比如链表，链表的随机访问时间复杂度是 O(n)，如果使用链表来存储，二分查找的复杂度会高很多。</p> <p><strong>2. 二分查找针对的是有序数据</strong></p> <p>二分查找对这一点比较苛刻，数据必须是有序的。如果数据没有序，需要先排序。如果针对的是一组静态的数据，没有频繁的插入和删除，那就可以进行一次排序，然后多次查找。而对于频繁插入和删除的，需要每次插入、删除的时候保证数据仍然有序，或者每次二分查找之前都进行排序。这种动态的数据，无论什么方法，效率都不高了。</p> <p>所以二分查找还只能用在不频繁插入、删除，可以一次排序多次查找的场景。而频繁插入、删除就应该使用二叉树了。</p> <p><strong>3. 数据量太小不适合二分查找</strong></p> <p>数据量太小完全没有必要，直接遍历就好。不管有个例外，如果数据之间的比较很耗时，这个时候，不管数据量大小都推荐二分查找，可以减少比较次数。例如，从数组中找出值等于给定值的时候，每一个元素都是长度超过 300 的字符串，如此长的字符串之间比较很耗时，推荐二分查找，减少比较次数。</p> <p><strong>4. 数据量太大也不适合二分查找</strong></p> <p>因为二分查找依赖数组，而数组需要的是连续的内存空间。如果有 1 GB 的数据，那也就意味着需要 1GB 的连续空间，如果此时剩余 2 GB 空间，但是没有连续的 1 GB，那就无法使用二分查找了。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/niexia/fe-tutorial/edit/master/algo/二分查找/二分查找.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/1/2019, 2:34:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fe-tutorial/algo/排序/排序优化.html" class="prev">
        排序优化
      </a></span> <span class="next"><a href="/fe-tutorial/algo/二分查找/二分查找的变形.html">
        二分查找的变形
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fe-tutorial/assets/js/app.bde7a860.js" defer></script><script src="/fe-tutorial/assets/js/2.ae25ac57.js" defer></script><script src="/fe-tutorial/assets/js/58.17b55089.js" defer></script>
  </body>
</html>
