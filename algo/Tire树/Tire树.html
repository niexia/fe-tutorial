<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tire 树 | fe-tutorial</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/fe-tutorial/favicon.ico">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-163994034-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-163994034-1');
      </script>
    <meta name="description" content="前端学习笔记">
    
    <link rel="preload" href="/fe-tutorial/assets/css/0.styles.c37fbebb.css" as="style"><link rel="preload" href="/fe-tutorial/assets/js/app.fcbf6810.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/2.ae25ac57.js" as="script"><link rel="preload" href="/fe-tutorial/assets/js/8.e42e34f7.js" as="script"><link rel="prefetch" href="/fe-tutorial/assets/js/10.54abfecd.js"><link rel="prefetch" href="/fe-tutorial/assets/js/100.c51352f8.js"><link rel="prefetch" href="/fe-tutorial/assets/js/11.340660ca.js"><link rel="prefetch" href="/fe-tutorial/assets/js/12.4085965f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/13.97762846.js"><link rel="prefetch" href="/fe-tutorial/assets/js/14.61f0ea27.js"><link rel="prefetch" href="/fe-tutorial/assets/js/15.443745aa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/16.87829ae5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/17.e70508a1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/18.3c5adb63.js"><link rel="prefetch" href="/fe-tutorial/assets/js/19.b3aa78bf.js"><link rel="prefetch" href="/fe-tutorial/assets/js/20.51f30a68.js"><link rel="prefetch" href="/fe-tutorial/assets/js/21.1ee0b1f5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/22.4ce73870.js"><link rel="prefetch" href="/fe-tutorial/assets/js/23.a8fb0f59.js"><link rel="prefetch" href="/fe-tutorial/assets/js/24.ad82ced8.js"><link rel="prefetch" href="/fe-tutorial/assets/js/25.995db6cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/26.8fd4c10f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/27.3a93e0ca.js"><link rel="prefetch" href="/fe-tutorial/assets/js/28.f34fba11.js"><link rel="prefetch" href="/fe-tutorial/assets/js/29.06d2e472.js"><link rel="prefetch" href="/fe-tutorial/assets/js/3.5753f381.js"><link rel="prefetch" href="/fe-tutorial/assets/js/30.9a2865d0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/31.a41e3ec2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/32.cc3afd0f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/33.f1072a91.js"><link rel="prefetch" href="/fe-tutorial/assets/js/34.f22cdb52.js"><link rel="prefetch" href="/fe-tutorial/assets/js/35.1a950e82.js"><link rel="prefetch" href="/fe-tutorial/assets/js/36.a626669c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/37.b4b6e647.js"><link rel="prefetch" href="/fe-tutorial/assets/js/38.92f2deb4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/39.c7ed3a61.js"><link rel="prefetch" href="/fe-tutorial/assets/js/4.98f4422a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/40.466b6064.js"><link rel="prefetch" href="/fe-tutorial/assets/js/41.2da3b312.js"><link rel="prefetch" href="/fe-tutorial/assets/js/42.dad8cfcf.js"><link rel="prefetch" href="/fe-tutorial/assets/js/43.bb9f2ac1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/44.aa39453c.js"><link rel="prefetch" href="/fe-tutorial/assets/js/45.57945416.js"><link rel="prefetch" href="/fe-tutorial/assets/js/46.c32a1e59.js"><link rel="prefetch" href="/fe-tutorial/assets/js/47.20ad918b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/48.a175faf6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/49.f50e3409.js"><link rel="prefetch" href="/fe-tutorial/assets/js/5.cdd7c7ab.js"><link rel="prefetch" href="/fe-tutorial/assets/js/50.79d8a994.js"><link rel="prefetch" href="/fe-tutorial/assets/js/51.60b71b7b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/52.f19d60a4.js"><link rel="prefetch" href="/fe-tutorial/assets/js/53.d3c20efa.js"><link rel="prefetch" href="/fe-tutorial/assets/js/54.3148806d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/55.3c2975f5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/56.594242a1.js"><link rel="prefetch" href="/fe-tutorial/assets/js/57.1755837a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/58.f80de45e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/59.8b6c4445.js"><link rel="prefetch" href="/fe-tutorial/assets/js/6.c933fff9.js"><link rel="prefetch" href="/fe-tutorial/assets/js/60.316dccad.js"><link rel="prefetch" href="/fe-tutorial/assets/js/61.6972f1cb.js"><link rel="prefetch" href="/fe-tutorial/assets/js/62.0f806553.js"><link rel="prefetch" href="/fe-tutorial/assets/js/63.be764865.js"><link rel="prefetch" href="/fe-tutorial/assets/js/64.02056565.js"><link rel="prefetch" href="/fe-tutorial/assets/js/65.27e04520.js"><link rel="prefetch" href="/fe-tutorial/assets/js/66.57809e36.js"><link rel="prefetch" href="/fe-tutorial/assets/js/67.50f29b79.js"><link rel="prefetch" href="/fe-tutorial/assets/js/68.30e4c105.js"><link rel="prefetch" href="/fe-tutorial/assets/js/69.4b66e608.js"><link rel="prefetch" href="/fe-tutorial/assets/js/7.7ea6b237.js"><link rel="prefetch" href="/fe-tutorial/assets/js/70.14d55330.js"><link rel="prefetch" href="/fe-tutorial/assets/js/71.edcc3be0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/72.8583ba0b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/73.0ed0e61a.js"><link rel="prefetch" href="/fe-tutorial/assets/js/74.57969e15.js"><link rel="prefetch" href="/fe-tutorial/assets/js/75.c3e13b17.js"><link rel="prefetch" href="/fe-tutorial/assets/js/76.26cf2f7f.js"><link rel="prefetch" href="/fe-tutorial/assets/js/77.e38d5475.js"><link rel="prefetch" href="/fe-tutorial/assets/js/78.2b2c68d0.js"><link rel="prefetch" href="/fe-tutorial/assets/js/79.8a039cf2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/80.5a23eb1b.js"><link rel="prefetch" href="/fe-tutorial/assets/js/81.100b858e.js"><link rel="prefetch" href="/fe-tutorial/assets/js/82.1ffbad11.js"><link rel="prefetch" href="/fe-tutorial/assets/js/83.97682478.js"><link rel="prefetch" href="/fe-tutorial/assets/js/84.2bdbb6ac.js"><link rel="prefetch" href="/fe-tutorial/assets/js/85.a20f0378.js"><link rel="prefetch" href="/fe-tutorial/assets/js/86.7494a7a3.js"><link rel="prefetch" href="/fe-tutorial/assets/js/87.3434c001.js"><link rel="prefetch" href="/fe-tutorial/assets/js/88.5c8991ba.js"><link rel="prefetch" href="/fe-tutorial/assets/js/89.a5d85852.js"><link rel="prefetch" href="/fe-tutorial/assets/js/9.a89dfe67.js"><link rel="prefetch" href="/fe-tutorial/assets/js/90.a08e9e28.js"><link rel="prefetch" href="/fe-tutorial/assets/js/91.aa9ddc8d.js"><link rel="prefetch" href="/fe-tutorial/assets/js/92.c06a48a2.js"><link rel="prefetch" href="/fe-tutorial/assets/js/93.822f73c5.js"><link rel="prefetch" href="/fe-tutorial/assets/js/94.7dfb2573.js"><link rel="prefetch" href="/fe-tutorial/assets/js/95.fd898106.js"><link rel="prefetch" href="/fe-tutorial/assets/js/96.b9a593f7.js"><link rel="prefetch" href="/fe-tutorial/assets/js/97.72102f62.js"><link rel="prefetch" href="/fe-tutorial/assets/js/98.2081fea6.js"><link rel="prefetch" href="/fe-tutorial/assets/js/99.d2f84829.js">
    <link rel="stylesheet" href="/fe-tutorial/assets/css/0.styles.c37fbebb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fe-tutorial/" class="home-link router-link-active"><!----> <span class="site-name">fe-tutorial</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link router-link-active">
  数据结构和算法
</a></div><div class="nav-item"><a href="/fe-tutorial/network/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/fe-tutorial/fee/" class="nav-link">
  工程化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://niexia.github.io/learn-source-code/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  源码学习
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://niexia.github.io/reading-notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  读书笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/niexia/fe-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fe-tutorial/javaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/fe-tutorial/algo/" class="nav-link router-link-active">
  数据结构和算法
</a></div><div class="nav-item"><a href="/fe-tutorial/network/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/fe-tutorial/fee/" class="nav-link">
  工程化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://niexia.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://niexia.github.io/learn-source-code/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  源码学习
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://niexia.github.io/reading-notes/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  读书笔记
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/niexia/fe-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>数据结构和算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/fe-tutorial/algo/数组/数组.html" class="sidebar-link">数组</a></li><li><a href="/fe-tutorial/algo/链表/链表.html" class="sidebar-link">链表</a></li><li><a href="/fe-tutorial/algo/链表/手写链表的技巧.html" class="sidebar-link">手写链表的技巧</a></li><li><a href="/fe-tutorial/algo/栈/栈.html" class="sidebar-link">栈</a></li><li><a href="/fe-tutorial/algo/递归/递归.html" class="sidebar-link">递归</a></li><li><a href="/fe-tutorial/algo/排序/排序.html" class="sidebar-link">排序算法介绍</a></li><li><a href="/fe-tutorial/algo/排序/冒泡、插入和选择排序.html" class="sidebar-link">冒泡、插入和选择排序</a></li><li><a href="/fe-tutorial/algo/排序/归并排序和快速排序.html" class="sidebar-link">归并排序和快速排序</a></li><li><a href="/fe-tutorial/algo/排序/桶排序、计数排序和基数排序.html" class="sidebar-link">桶排序、计数排序和基数排序</a></li><li><a href="/fe-tutorial/algo/排序/排序优化.html" class="sidebar-link">排序优化</a></li><li><a href="/fe-tutorial/algo/二分查找/二分查找.html" class="sidebar-link">二分查找</a></li><li><a href="/fe-tutorial/algo/二分查找/二分查找的变形.html" class="sidebar-link">二分查找的变形</a></li><li><a href="/fe-tutorial/algo/跳表/跳表.html" class="sidebar-link">跳表</a></li><li><a href="/fe-tutorial/algo/散列表/散列表.html" class="sidebar-link">散列表</a></li><li><a href="/fe-tutorial/algo/哈希算法/哈希算法.html" class="sidebar-link">哈希算法</a></li><li><a href="/fe-tutorial/algo/二叉树/二叉树.html" class="sidebar-link">二叉树</a></li><li><a href="/fe-tutorial/algo/二叉树/二叉查找树.html" class="sidebar-link">二叉查找树</a></li><li><a href="/fe-tutorial/algo/二叉树/红黑树.html" class="sidebar-link">红黑树</a></li><li><a href="/fe-tutorial/algo/堆/堆和堆排序.html" class="sidebar-link">堆</a></li><li><a href="/fe-tutorial/algo/堆/堆的应用.html" class="sidebar-link">堆的应用</a></li><li><a href="/fe-tutorial/algo/图/图.html" class="sidebar-link">图</a></li><li><a href="/fe-tutorial/algo/图/深度和广度优先搜索.html" class="sidebar-link">深度优先和广度优先搜索</a></li><li><a href="/fe-tutorial/algo/字符串匹配/BF算法和RK算法.html" class="sidebar-link">BF 算法和 RK 算法</a></li><li><a href="/fe-tutorial/algo/字符串匹配/BM算法.html" class="sidebar-link">/algo/字符串匹配/BM算法.html</a></li><li><a href="/fe-tutorial/algo/字符串匹配/KMP算法.html" class="sidebar-link">/algo/字符串匹配/KMP算法.html</a></li><li><a href="/fe-tutorial/algo/Tire树/Tire树.html" class="active sidebar-link">Tire 树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#什么是-tire-树" class="sidebar-link">什么是 Tire 树</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#实现-tire-树" class="sidebar-link">实现 Tire 树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#tire-树主要有两个操作" class="sidebar-link">Tire 树主要有两个操作</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#经典的存储方式" class="sidebar-link">经典的存储方式</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#实现构造和查询" class="sidebar-link">实现构造和查询</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#tire-树是否真的耗内存" class="sidebar-link">Tire 树是否真的耗内存</a></li></ul></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#tire-树与散列表、红黑树的比较" class="sidebar-link">Tire 树与散列表、红黑树的比较</a></li><li class="sidebar-sub-header"><a href="/fe-tutorial/algo/Tire树/Tire树.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/fe-tutorial/algo/贪心算法/贪心算法.html" class="sidebar-link">贪心算法</a></li><li><a href="/fe-tutorial/algo/分治算法/分治算法.html" class="sidebar-link">分治算法</a></li><li><a href="/fe-tutorial/algo/回溯算法/回溯算法.html" class="sidebar-link">回溯算法</a></li><li><a href="/fe-tutorial/algo/动态规划/动态规划.html" class="sidebar-link">动态规划</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>LeetCode</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fe-tutorial/algo/leetcode/说明.html" class="sidebar-link">说明</a></li><li><a href="/fe-tutorial/algo/leetcode/数组.html" class="sidebar-link">数组</a></li><li><a href="/fe-tutorial/algo/leetcode/链表.html" class="sidebar-link">链表</a></li><li><a href="/fe-tutorial/algo/leetcode/队列.html" class="sidebar-link">队列</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="tire-树"><a href="#tire-树" class="header-anchor">#</a> Tire 树</h1> <p>为了方便输入，当你在搜索引擎的搜索框中，输入要搜索的文字的某一部分，搜索引擎就会自动弹出下拉框，里面是各种关键词提示。然后可以直接选择，而不必输入所有内容。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-tire-eg1.6d1322ea.png" alt="search completion"></p> <p>它是怎么实现的呢？底层使用的是那种数据结构和算法呢？</p> <p>这些搜索引擎的关键词提示功能肯定做了很多优化，但是底层最基本的就是 Tire 树这种数据结构。</p> <h2 id="什么是-tire-树"><a href="#什么是-tire-树" class="header-anchor">#</a> 什么是 Tire 树</h2> <p>Tire 树，也叫字典树。顾名思义，它是一种树形结构。这种数据结构专门处理字符串匹配，用来解决在一组字符串集合中快速查找某个字符串的问题。</p> <p><strong>Tire 树的本质，就是利用字符串之间的公共前缀，将重复的前缀组合在一起</strong>。</p> <p>举个例子，现在有 6 个字符串：how，hi，her，hello，so，see。我们希望在里面多次查找某个字符串是否存在。如果每次查找都是将要查找的字符串和这 6 个字符串匹配，那么效率就比较低了。有没有更高效的方法？</p> <p>这时候，可以先对这 6 个字符串做一下预处理，组织成 Tire 树的结构。之后每次查找，都是在 Tire 中进行匹配查找：</p> <p><img src="/fe-tutorial/assets/img/dataStructure-tire-eg2.df796e56.png" alt="tire"></p> <p>Tire 的构造过程如下，每一步都相当于往 Tire 树中插入一个字符串，所有字符串都插入完成之后，Tire 树就构造好了。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-tire-eg3.5c72db1b.png" alt="tire"></p> <p>在 Tire 树中查找一个字符串的时候，比如查找“her”，先将它分割成单个字符串 h，e，r，然后从 Tire 树的根节点开始匹配。如果所示，绿色的路径就是在 Tire 树中的匹配路径。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-tire-eg4.eb6ec344.png" alt="tire"></p> <p>如果要查找 “he”，方法还是一样的，如图所示，绿色路径就是“he”的匹配路径。但是有点不同，<strong>路径的最后一个节点“e”并不是红色的</strong>，也就是说，“he”是某个字符串的前缀，它并不能完全匹配任何字符串。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-tire-eg5.12baf126.png" alt="tire"></p> <h2 id="实现-tire-树"><a href="#实现-tire-树" class="header-anchor">#</a> 实现 Tire 树</h2> <h3 id="tire-树主要有两个操作"><a href="#tire-树主要有两个操作" class="header-anchor">#</a> Tire 树主要有两个操作</h3> <ul><li>构造：将字符串集合构造成 Tire 树。这个过程拆开来看，就是将字符串插入 Tire 树的过程。</li> <li>查询：在 Tire 树中查询一个字符串。</li></ul> <p>从前面的图可以看出，Tire 树是一棵多叉树。在二叉树中，一个节点的左右子节点是通过两个指针来存储的，那在多叉树中，怎么存储一个节点的所有子节点的指针呢？</p> <h3 id="经典的存储方式"><a href="#经典的存储方式" class="header-anchor">#</a> 经典的存储方式</h3> <p>借助散列表的思想，<strong>通过一个下标与字符一一映射的数组，来存储子节点的指针</strong>。如下图：</p> <p><img src="/fe-tutorial/assets/img/dataStructure-tire-eg6.467a95ed.png" alt="tire"></p> <p>假设我们的字符串只有 a~z 这 26 个小写字母。那么，在数组下标为 0 的位置存储指向子节点 a 的指针，下标为 1 的位置存储指向子节点 b 的指针，以此类推，下标为 25 的位置存储指向子节点 z 的指针。如果某个节点不存在，那么就在对应的下标位置存储 null。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">TrieNode</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 每个下标位置存储的是指向对应子节点的指针</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="实现构造和查询"><a href="#实现构造和查询" class="header-anchor">#</a> 实现构造和查询</h3> <p>接下来，实现构造和查询。当我们在 Tire 树行查找字符串的时候，就可以通过字符的 ASCII 码减去“a”的 ASCII 码（得到的就是数组下标），迅速的找到匹配的子节点的指针。比如 d - a = 3，那子节点 d 的指针就存储在数组下标为 3 的位置。</p> <p>整个过程代码的实现为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">TrieNode</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isEndingChar <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">TrieTree</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 往 Trie 树中插入一个字符串</span>
  <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> char <span class="token keyword">of</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> char<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieNode</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      node <span class="token operator">=</span> node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    node<span class="token punctuation">.</span>isEndingChar <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 在 Trie 树中查找一个字符串</span>
  <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> char <span class="token keyword">of</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> index <span class="token operator">=</span> char<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> node<span class="token punctuation">.</span>children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> node<span class="token punctuation">.</span>isEndingChar<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> tree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TrieTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> strs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;how&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;her&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;so&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;see&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> str <span class="token keyword">of</span> strs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  tree<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> str <span class="token keyword">of</span> strs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>那么在 Tire 树中，查找某个字符串的时间复杂是多少？</strong></p> <p>如果要在一组字符串中，频繁地查询某些字符串，用 Trie 树会非常高效。</p> <p>构建 Trie 树的过程，需要扫描所有的字符串，时间复杂度是 <strong>O(n)（n 表示所有字符串的长度和</strong>）。但是一旦构建成功之后，后续的查询操作会非常高效。</p> <p>每次查询时，如果要查询的字符串长度是 k，那我们只需要比对大约 k 个节点，就能完成查询操作。跟原本那组字符串的长度和个数没有任何关系。所以说，构建好 Trie 树后，在其中查找字符串的时间复杂度是 <strong>O(k)</strong>，k 表示要查找的字符串的长度。</p> <h3 id="tire-树是否真的耗内存"><a href="#tire-树是否真的耗内存" class="header-anchor">#</a> Tire 树是否真的耗内存</h3> <p>存储 Tire 树时，用数组来存储一个节点的子节点的指针。</p> <p>如果字符串中包含 a~z 这 26 个字符，那么每个节点都需要存储一个长度为 26 的数组，并且每个数组元素存储一个 8 字节指针（或者 4 个字节，跟 CPU、操作系统、编译器等有关）。而且，不管一个节点有多少个子节点，我们都需要维护这个长度为 26 的数组。</p> <p>按照上面的例子，数组长度是 26，每个元素是 8 个字节，所以每个节点额外需要 26 * 8 = 208 个字节。而且这还是只包含 26 个字符的情况。</p> <p>如果字符串中，不仅包含小写字母，还包含大写字母、数字、甚至中文，那么需要的存储空间就更多了。</p> <p>Tire 树的本质是将重复的前缀组合在一起，避免重复存储。但是，在某些情况下，Tire 树并不能节省存储空间。在重复前缀并不多的情况下，Tire 不但不能节省空间，还有可能浪费更多的内存。</p> <p><strong>所以 Tire 树是比较耗内存的，是一种空间换时间的解决思路。</strong></p> <p>可以牺牲一点查询效率，将每个节点中的数组换成其他数据结构，来存储一个子节点的指针。比如有序数组、跳表、散列表、红黑树等。</p> <p>假设是有序数组，查询的时候，可以通过二分查找的方法，快速找到某个字符应该匹配的子节点的指针。往 Tire 插入一个字符串时，需要维护数组中数据的有序性，就会稍微慢点。</p> <p>Tire 的变体都可以在一定程度上解决内存的销毁问题。比如，还有<strong>缩点优化</strong>，就是对于只有一个子节点的节点，可以将此节点与子节点合并。也可以节省空间。</p> <p><img src="/fe-tutorial/assets/img/dataStructure-tire-eg7.e8bd235d.png" alt="tire"></p> <h2 id="tire-树与散列表、红黑树的比较"><a href="#tire-树与散列表、红黑树的比较" class="header-anchor">#</a> Tire 树与散列表、红黑树的比较</h2> <p>支持数据动态操作的数据有，散列表、红黑树、跳表等。这些数据结构也可以实现在一组字符串中查找字符串的功能。这里做个比较。</p> <p>在刚刚这个场景中，Tire 树实际上表现得并不好，它对处理的字符串有极其严苛的要求：</p> <ol><li>字符串包含的字符集不能太大。字符集太大，存储空间就会浪费很多。</li> <li>字符串的前缀重合要比较多，不然消耗也会变大很多。</li> <li>要用 Tire 树，首先需要从零开始实现一个 Tire 树，这个在工程上是简单问题复杂化了，除非必须，一般不建议这样做。</li> <li>通过指针串起来的数据块不是连续的，而 Tire 树中用到了指针，所以这对缓存并不友好，性能会打折扣。</li></ol> <p>针对在一组字符串中查找字符串的问题，在工程中，更倾向于用散列表或者红黑树。因为这两种数据结构，我们都不需要自己去实现，直接利用编程语言中提供的现成类库就行了。</p> <p><strong>Trie 树只是不适合精确匹配查找，这种问题更适合用散列表或者红黑树来解决。Trie 树比较适合的是查找前缀匹配的字符串，也就是类似开篇的关键词提示那种场景。</strong></p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>解答开篇问题，假设关键词词库是由用户的热门搜索关键词组成，先将这个词库构建成 Tire 树，当用户其中某个单词时，把这个词作为前缀子串在 Tire 树中匹配，将满足这个匹配的关键词展示在搜索提示框。这就是搜索关键词的最基本算法原理。</p> <p>Trie 树的这个应用可以扩展到更加广泛的一个应用上，就是<strong>自动输入补全</strong>，比如输入法自动补全功能、IDE 代码编辑器自动补全功能、浏览器网址输入的自动补全功能等等。</p> <p>最后总结一下，Tire 树是一种解决字符串快速匹配的数据结构。它比较耗内存，是一种空间换时间的解决问题思路。当然，在 Tire 树中做字符串匹配非常高效，时间复杂度是 O(k)，k 是要匹配的字符串的长度。</p> <p>Trie 树的优势并不在于，用它来做动态集合数据的查找，因为，这个工作完全可以用更加合适的散列表或者红黑树来替代。<strong>Trie 树最有优势的是查找前缀匹配的字符串</strong>，比如搜索引擎中的关键词提示功能这个场景，就比较适合用它来解决，也是 Trie 树比较经典的应用场景。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/niexia/fe-tutorial/edit/master/docs/algo/Tire树/Tire树.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">11/28/2019, 1:25:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fe-tutorial/algo/字符串匹配/KMP算法.html" class="prev">
        /algo/字符串匹配/KMP算法.html
      </a></span> <span class="next"><a href="/fe-tutorial/algo/贪心算法/贪心算法.html">
        贪心算法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/fe-tutorial/assets/js/app.fcbf6810.js" defer></script><script src="/fe-tutorial/assets/js/2.ae25ac57.js" defer></script><script src="/fe-tutorial/assets/js/8.e42e34f7.js" defer></script>
  </body>
</html>
